2019-11-22 15:57:55.420  INFO 14388 --- [main] com.yjjk.erp.MonitorApplication      : Starting MonitorApplication on MS-ZWFHRNJTHITD with PID 14388 (D:\myproject\monitor2.0\target\classes started by Administrator in D:\myproject\monitor2.0)
2019-11-22 15:57:55.424  INFO 14388 --- [main] com.yjjk.erp.MonitorApplication      : The following profiles are active: dev
2019-11-22 15:57:57.549  INFO 14388 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$18712359] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-11-22 15:57:58.207  INFO 14388 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-11-22 15:57:58.243  INFO 14388 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-11-22 15:57:58.244  INFO 14388 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-11-22 15:57:58.590  INFO 14388 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/yjjk]   : Initializing Spring embedded WebApplicationContext
2019-11-22 15:57:58.591  INFO 14388 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3103 ms
2019-11-22 15:58:00.431  INFO 14388 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2019-11-22 15:58:00.803  INFO 14388 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-11-22 15:58:00.996  WARN 14388 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)
2019-11-22 15:58:01.265  INFO 14388 --- [main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-11-22 15:58:01.383  INFO 14388 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2019-11-22 15:58:01.409  INFO 14388 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2019-11-22 15:58:01.547  INFO 14388 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2019-11-22 15:58:02.025  INFO 14388 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: exportTemperatureHistoryUsingGET_1
2019-11-22 15:58:02.183 ERROR 14388 --- [main] org.apache.catalina.util.LifecycleBase   : Failed to start component [Connector[HTTP/1.1-8080]]

org.apache.catalina.LifecycleException: Protocol handler start failed
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1008) ~[tomcat-embed-core-9.0.21.jar:9.0.21]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.21.jar:9.0.21]
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:227) [tomcat-embed-core-9.0.21.jar:9.0.21]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:263) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:195) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:296) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:162) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:552) [spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1213) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1202) [spring-boot-2.1.6.RELEASE.jar:2.1.6.RELEASE]
	at com.yjjk.erp.MonitorApplication.main(MonitorApplication.java:29) [classes/:na]
Caused by: java.net.BindException: Address already in use: bind
	at sun.nio.ch.Net.bind0(Native Method) ~[na:1.8.0_231]
	at sun.nio.ch.Net.bind(Net.java:433) ~[na:1.8.0_231]
	at sun.nio.ch.Net.bind(Net.java:425) ~[na:1.8.0_231]
	at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223) ~[na:1.8.0_231]
	at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74) ~[na:1.8.0_231]
	at org.apache.tomcat.util.net.NioEndpoint.initServerSocket(NioEndpoint.java:230) ~[tomcat-embed-core-9.0.21.jar:9.0.21]
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:213) ~[tomcat-embed-core-9.0.21.jar:9.0.21]
	at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1124) ~[tomcat-embed-core-9.0.21.jar:9.0.21]
	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1210) ~[tomcat-embed-core-9.0.21.jar:9.0.21]
	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:585) ~[tomcat-embed-core-9.0.21.jar:9.0.21]
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1005) ~[tomcat-embed-core-9.0.21.jar:9.0.21]
	... 14 common frames omitted

2019-11-22 15:58:02.191  INFO 14388 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2019-11-22 15:58:02.205  INFO 14388 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-11-22 15:58:02.215 ERROR 14388 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The Tomcat connector configured to listen on port 8080 failed to start. The port may already be in use or the connector may be misconfigured.

Action:

Verify the connector's configuration, identify and stop any process that's listening on port 8080, or configure this application to listen on another port.

2019-11-22 15:58:02.220  INFO 14388 --- [main] o.s.s.c.ThreadPoolTaskScheduler          : Shutting down ExecutorService 'taskScheduler'
2019-11-22 15:58:02.222  INFO 14388 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-11-22 16:06:25.040  INFO 16124 --- [main] com.yjjk.erp.MonitorApplication      : Starting MonitorApplication on MS-ZWFHRNJTHITD with PID 16124 (D:\myproject\monitor2.0\target\classes started by Administrator in D:\myproject\monitor2.0)
2019-11-22 16:06:25.044  INFO 16124 --- [main] com.yjjk.erp.MonitorApplication      : The following profiles are active: dev
2019-11-22 16:06:27.374  INFO 16124 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$5a2c8830] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-11-22 16:06:28.005  INFO 16124 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-11-22 16:06:28.042  INFO 16124 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-11-22 16:06:28.043  INFO 16124 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-11-22 16:06:28.384  INFO 16124 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/yjjk]   : Initializing Spring embedded WebApplicationContext
2019-11-22 16:06:28.384  INFO 16124 --- [main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 3257 ms
2019-11-22 16:06:30.247  INFO 16124 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [public org.springframework.http.ResponseEntity<springfox.documentation.spring.web.json.Json> springfox.documentation.swagger2.web.Swagger2Controller.getDocumentation(java.lang.String,javax.servlet.http.HttpServletRequest)]
2019-11-22 16:06:30.632  INFO 16124 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-11-22 16:06:30.882  WARN 16124 --- [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)
2019-11-22 16:06:31.197  INFO 16124 --- [main] o.s.s.c.ThreadPoolTaskScheduler          : Initializing ExecutorService 'taskScheduler'
2019-11-22 16:06:31.328  INFO 16124 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Context refreshed
2019-11-22 16:06:31.350  INFO 16124 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
2019-11-22 16:06:31.494  INFO 16124 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
2019-11-22 16:06:31.969  INFO 16124 --- [main] .d.s.w.r.o.CachingOperationNameGenerator : Generating unique operation named: exportTemperatureHistoryUsingGET_1
2019-11-22 16:06:32.147  INFO 16124 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/yjjk'
2019-11-22 16:06:32.152  INFO 16124 --- [main] com.yjjk.erp.MonitorApplication      : Started MonitorApplication in 7.826 seconds (JVM running for 9.851)
2019-11-22 16:06:47.435  INFO 16124 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/yjjk]   : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-11-22 16:06:47.436  INFO 16124 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-11-22 16:06:47.451  INFO 16124 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 15 ms
2019-11-22 16:06:47.539  INFO 16124 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : DateSourceHikariCP - Starting...
2019-11-22 16:06:48.703  INFO 16124 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : DateSourceHikariCP - Start completed.
2019-11-22 16:06:48.716 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:06:48.748 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:06:48.771 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:06:48.775  INFO 16124 --- [http-nio-8080-exec-1] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/heart/healthHistory] [method:(GET) CommonResult com.yjjk.erp.controller.EcgController.getHealthHistory(Long)]
2019-11-22 16:06:48.775  INFO 16124 --- [http-nio-8080-exec-1] com.yjjk.erp.aspect.WeblogAspect     : args: [554]
2019-11-22 16:06:48.784 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByRecordId               : ==>  Preparing: select record_id, patient_id, machine_id, bed_id, start_time, end_time, usage_state, create_time, `status`,record_type , temperature_history, ecg_history, rate_history from zs_patient_record where record_id = ? and status = 0 
2019-11-22 16:06:48.785 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByRecordId               : ==> Parameters: 554(Long)
2019-11-22 16:06:48.792 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByRecordId               : <==      Total: 1
2019-11-22 16:06:48.823 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.getHealthHistory               : ==>  Preparing: SELECT zhi.`heart_rate`, zhi.`respiratory_rate`, zhi.create_time as dateTime FROM `zs_health_info` zhi LEFT JOIN `zs_patient_record` zpr ON zhi.`machine_id` = zpr.`machine_id` WHERE zpr.status = 0 AND zhi.`create_time` >= zpr.`start_time` AND zhi.`create_time` <= now() AND zpr.record_id = ? ORDER BY zhi.`temperature_id`; 
2019-11-22 16:06:48.824 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.getHealthHistory               : ==> Parameters: 554(Long)
2019-11-22 16:06:48.912 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.getHealthHistory               : <==      Total: 734
2019-11-22 16:06:55.028  INFO 16124 --- [http-nio-8080-exec-2] c.y.monitor.websocket.WebSocketServer    : 有新窗口开始监听:101,当前在线人数为1
2019-11-22 16:06:56.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:06:56.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:06:56.008 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:06:57.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:06:57.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:06:57.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:06:58.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:06:58.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:06:58.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:06:59.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:06:59.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:06:59.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:00.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:00.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:00.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:01.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:01.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:01.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:02.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:02.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:02.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:03.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:03.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:03.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:04.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:04.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:04.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:05.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:05.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:05.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:06.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:06.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:06.008 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:07.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:07.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:07.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:08.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:08.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:08.009 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:09.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:09.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:09.009 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:10.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:10.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:10.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:11.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:11.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:11.010 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:12.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:12.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:12.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:13.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:13.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:13.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:14.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:14.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:14.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:15.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:15.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:15.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:16.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:16.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:16.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:17.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:17.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:17.008 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:18.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:18.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:18.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:19.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:19.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:19.009 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:20.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:20.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:20.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:21.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:21.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:21.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:22.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:22.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:22.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:23.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:23.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:23.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:23.527 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:07:23.527 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:07:23.529 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:07:23.530  INFO 16124 --- [http-nio-8080-exec-3] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/heart/monitor] [method:(GET) CommonResult com.yjjk.erp.controller.EcgController.getMonitors(Integer,Integer,Integer,Integer)]
2019-11-22 16:07:23.530  INFO 16124 --- [http-nio-8080-exec-3] com.yjjk.erp.aspect.WeblogAspect     : args: [62, null, null, null]
2019-11-22 16:07:23.531 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select manager_id, account, `password`, `name`, phone, post, department_id, sex, `role`, login_time, create_time, `status` from zs_manager_info where manager_id = ? and status = 0 
2019-11-22 16:07:23.531 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 62(Integer)
2019-11-22 16:07:23.533 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:07:23.536 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.getMonitorsInfoForEcg          : ==>  Preparing: SELECT a.bedId,a.`department_id`,a.departmentName,a.roomName, a.bedName, b.recordId, b.machineId, b.patientName,b.caseNum, b.machineNum, b.machineNo, b.endTime, b.startTime, b.`bed_id`,b.pattery FROM ( SELECT zbi.`bed_id` as bedId,zdi.`department_id`,zdi.name AS departmentName,zri.name AS roomName, zbi.name AS bedName FROM zs_bed_info zbi LEFT JOIN zs_room_info zri ON zbi.`room_id` = zri.room_id LEFT JOIN `zs_department_info` zdi ON zri.`department_id` = zdi.`department_id` WHERE zdi.department_id = ? ) a LEFT JOIN (SELECT zpr.`record_id` AS recordId, zpr.`machine_id` AS machineId, zpi.`name` AS patientName, zpi.`case_num` AS caseNum, zmi.machine_num AS machineNum, zmi.machine_no as machineNo, NOW() AS endTime, zpr.start_time AS startTime, zpr.`bed_id`, zmi.pattery FROM `zs_patient_record` zpr LEFT JOIN zs_patient_info zpi ON zpr.`patient_id` = zpi.`patient_id` LEFT JOIN `zs_machine_info` zmi ON zpr.`machine_id` = zmi.`machine_id` WHERE zpr.`usage_state` = 0 and zpr.record_type=1) b ON b.bed_id = a.bedId order by a.bedId 
2019-11-22 16:07:23.537 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.getMonitorsInfoForEcg          : ==> Parameters: 11(Integer)
2019-11-22 16:07:23.572 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.getMonitorsInfoForEcg          : <==      Total: 41
2019-11-22 16:07:23.574 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.getHealthInfo                  : ==>  Preparing: SELECT c.temperature_id,c.machine_id,c.heart_rate,c.respiratory_rate,c.timestamp FROM (SELECT a.temperature_id,a.machine_id,a.heart_rate,a.respiratory_rate,a.TIMESTAMP FROM (SELECT b.temperature_id,b.machine_id,b.heart_rate,b.respiratory_rate,b.TIMESTAMP FROM `zs_health_info` b ORDER BY create_time DESC /* 设备的检索数量上限为10000 */ LIMIT 10000) a GROUP BY a.machine_id) c LEFT JOIN `zs_machine_info` zmi ON zmi.`machine_id` = c.machine_id and zmi.department_id = ? 
2019-11-22 16:07:23.575 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.getHealthInfo                  : ==> Parameters: 11(Integer)
2019-11-22 16:07:23.582 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.getHealthInfo                  : <==      Total: 2
2019-11-22 16:07:24.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:24.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:24.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:25.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:25.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:25.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:26.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:26.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:26.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:27.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:27.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:27.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:28.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:28.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:28.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:29.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:29.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:29.008 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:30.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:30.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:30.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:31.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:31.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:31.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:32.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:32.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:32.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:33.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:33.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:33.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:34.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:34.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:34.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:35.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:35.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:35.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:36.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:36.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:36.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:37.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:37.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:37.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:38.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:38.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:38.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:39.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:39.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:39.008 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:40.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:40.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:40.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:41.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:41.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:41.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:42.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:42.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:42.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:43.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:43.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:43.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:44.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:44.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:44.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:45.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:45.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:45.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:46.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:46.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:46.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:47.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:47.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:47.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:48.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:48.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:48.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:49.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:49.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:49.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:07:49.150  INFO 16124 --- [http-nio-8080-exec-4] c.y.monitor.websocket.WebSocketServer    : 有一连接关闭！当前在线人数为0
2019-11-22 16:07:52.122 DEBUG 16124 --- [http-nio-8080-exec-5] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:07:52.123 DEBUG 16124 --- [http-nio-8080-exec-5] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:07:52.125 DEBUG 16124 --- [http-nio-8080-exec-5] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:07:52.125  INFO 16124 --- [http-nio-8080-exec-5] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/heart/healthHistory] [method:(GET) CommonResult com.yjjk.erp.controller.EcgController.getHealthHistory(Long)]
2019-11-22 16:07:52.125  INFO 16124 --- [http-nio-8080-exec-5] com.yjjk.erp.aspect.WeblogAspect     : args: [554]
2019-11-22 16:07:52.125 DEBUG 16124 --- [http-nio-8080-exec-5] c.y.m.m.Z.selectByRecordId               : ==>  Preparing: select record_id, patient_id, machine_id, bed_id, start_time, end_time, usage_state, create_time, `status`,record_type , temperature_history, ecg_history, rate_history from zs_patient_record where record_id = ? and status = 0 
2019-11-22 16:07:52.126 DEBUG 16124 --- [http-nio-8080-exec-5] c.y.m.m.Z.selectByRecordId               : ==> Parameters: 554(Long)
2019-11-22 16:07:52.128 DEBUG 16124 --- [http-nio-8080-exec-5] c.y.m.m.Z.selectByRecordId               : <==      Total: 1
2019-11-22 16:07:52.129 DEBUG 16124 --- [http-nio-8080-exec-5] c.y.m.m.Z.getHealthHistory               : ==>  Preparing: SELECT zhi.`heart_rate`, zhi.`respiratory_rate`, zhi.create_time as dateTime FROM `zs_health_info` zhi LEFT JOIN `zs_patient_record` zpr ON zhi.`machine_id` = zpr.`machine_id` WHERE zpr.status = 0 AND zhi.`create_time` >= zpr.`start_time` AND zhi.`create_time` <= now() AND zpr.record_id = ? ORDER BY zhi.`temperature_id`; 
2019-11-22 16:07:52.130 DEBUG 16124 --- [http-nio-8080-exec-5] c.y.m.m.Z.getHealthHistory               : ==> Parameters: 554(Long)
2019-11-22 16:07:52.185 DEBUG 16124 --- [http-nio-8080-exec-5] c.y.m.m.Z.getHealthHistory               : <==      Total: 735
2019-11-22 16:07:58.848  INFO 16124 --- [http-nio-8080-exec-6] c.y.monitor.websocket.WebSocketServer    : 有新窗口开始监听:101,当前在线人数为1
2019-11-22 16:07:59.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:07:59.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:07:59.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:00.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:00.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:00.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:01.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:01.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:01.008 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:02.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:02.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:02.008 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:03.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:03.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:03.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:04.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:04.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:04.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:05.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:05.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:05.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:06.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:06.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:06.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:07.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:07.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:07.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:08.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:08.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:08.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:09.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:09.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:09.008 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:10.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:10.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:10.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:11.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:11.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:11.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:12.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:12.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:12.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:13.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:13.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:13.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:14.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:14.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:14.009 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:15.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:15.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:15.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:16.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:16.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:16.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:17.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:17.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:17.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:18.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:18.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:18.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:19.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:19.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:19.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:20.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:20.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:20.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:21.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:21.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:21.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:22.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:22.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:22.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:23.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:23.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:23.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:24.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:24.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:24.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:24.288 DEBUG 16124 --- [http-nio-8080-exec-7] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:08:24.288 DEBUG 16124 --- [http-nio-8080-exec-7] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:08:24.290 DEBUG 16124 --- [http-nio-8080-exec-7] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:08:24.290  INFO 16124 --- [http-nio-8080-exec-7] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/heart/monitor] [method:(GET) CommonResult com.yjjk.erp.controller.EcgController.getMonitors(Integer,Integer,Integer,Integer)]
2019-11-22 16:08:24.291  INFO 16124 --- [http-nio-8080-exec-7] com.yjjk.erp.aspect.WeblogAspect     : args: [62, null, null, null]
2019-11-22 16:08:24.291 DEBUG 16124 --- [http-nio-8080-exec-7] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select manager_id, account, `password`, `name`, phone, post, department_id, sex, `role`, login_time, create_time, `status` from zs_manager_info where manager_id = ? and status = 0 
2019-11-22 16:08:24.291 DEBUG 16124 --- [http-nio-8080-exec-7] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 62(Integer)
2019-11-22 16:08:24.293 DEBUG 16124 --- [http-nio-8080-exec-7] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:08:24.294 DEBUG 16124 --- [http-nio-8080-exec-7] c.y.m.m.Z.getMonitorsInfoForEcg          : ==>  Preparing: SELECT a.bedId,a.`department_id`,a.departmentName,a.roomName, a.bedName, b.recordId, b.machineId, b.patientName,b.caseNum, b.machineNum, b.machineNo, b.endTime, b.startTime, b.`bed_id`,b.pattery FROM ( SELECT zbi.`bed_id` as bedId,zdi.`department_id`,zdi.name AS departmentName,zri.name AS roomName, zbi.name AS bedName FROM zs_bed_info zbi LEFT JOIN zs_room_info zri ON zbi.`room_id` = zri.room_id LEFT JOIN `zs_department_info` zdi ON zri.`department_id` = zdi.`department_id` WHERE zdi.department_id = ? ) a LEFT JOIN (SELECT zpr.`record_id` AS recordId, zpr.`machine_id` AS machineId, zpi.`name` AS patientName, zpi.`case_num` AS caseNum, zmi.machine_num AS machineNum, zmi.machine_no as machineNo, NOW() AS endTime, zpr.start_time AS startTime, zpr.`bed_id`, zmi.pattery FROM `zs_patient_record` zpr LEFT JOIN zs_patient_info zpi ON zpr.`patient_id` = zpi.`patient_id` LEFT JOIN `zs_machine_info` zmi ON zpr.`machine_id` = zmi.`machine_id` WHERE zpr.`usage_state` = 0 and zpr.record_type=1) b ON b.bed_id = a.bedId order by a.bedId 
2019-11-22 16:08:24.295 DEBUG 16124 --- [http-nio-8080-exec-7] c.y.m.m.Z.getMonitorsInfoForEcg          : ==> Parameters: 11(Integer)
2019-11-22 16:08:24.326 DEBUG 16124 --- [http-nio-8080-exec-7] c.y.m.m.Z.getMonitorsInfoForEcg          : <==      Total: 41
2019-11-22 16:08:24.327 DEBUG 16124 --- [http-nio-8080-exec-7] c.y.m.m.Z.getHealthInfo                  : ==>  Preparing: SELECT c.temperature_id,c.machine_id,c.heart_rate,c.respiratory_rate,c.timestamp FROM (SELECT a.temperature_id,a.machine_id,a.heart_rate,a.respiratory_rate,a.TIMESTAMP FROM (SELECT b.temperature_id,b.machine_id,b.heart_rate,b.respiratory_rate,b.TIMESTAMP FROM `zs_health_info` b ORDER BY create_time DESC /* 设备的检索数量上限为10000 */ LIMIT 10000) a GROUP BY a.machine_id) c LEFT JOIN `zs_machine_info` zmi ON zmi.`machine_id` = c.machine_id and zmi.department_id = ? 
2019-11-22 16:08:24.327 DEBUG 16124 --- [http-nio-8080-exec-7] c.y.m.m.Z.getHealthInfo                  : ==> Parameters: 11(Integer)
2019-11-22 16:08:24.334 DEBUG 16124 --- [http-nio-8080-exec-7] c.y.m.m.Z.getHealthInfo                  : <==      Total: 2
2019-11-22 16:08:25.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:25.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:25.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:26.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:26.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:26.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:27.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:27.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:27.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:28.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:28.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:28.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:29.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:29.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:29.008 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:30.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:30.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:30.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:31.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:31.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:31.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:32.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:32.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:32.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:33.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:33.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:33.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:34.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:34.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:34.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:35.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:35.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:35.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:36.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:36.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:36.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:37.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:37.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:37.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:38.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:38.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:38.008 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:39.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:39.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:39.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:40.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:40.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:40.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:41.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:41.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:41.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:42.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:42.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:42.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:43.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:43.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:43.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:44.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:44.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:44.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:45.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:45.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:45.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:46.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:46.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:46.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:47.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:47.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:47.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:48.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:48.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:48.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:49.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:49.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:49.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:50.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:50.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:50.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:51.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:51.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:51.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:52.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:52.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:52.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:53.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:53.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:53.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:54.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:54.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:54.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:55.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:55.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:55.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:56.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:56.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:56.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:57.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:57.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:57.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:58.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:58.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:58.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:08:59.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:08:59.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:08:59.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:00.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:00.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:00.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:01.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:01.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:01.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:02.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:02.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:02.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:03.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:03.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:03.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:04.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:04.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:04.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:05.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:05.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:05.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:06.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:06.008 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:06.010 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:07.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:07.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:07.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:08.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:08.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:08.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:08.546 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:09:08.546 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 44D1FAD443368C8D(String)
2019-11-22 16:09:08.548 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:09:08.548  INFO 16124 --- [http-nio-8080-exec-9] com.yjjk.erp.aspect.WeblogAspect     : [ip:0:0:0:0:0:0:0:1] [url:/yjjk/heart/healthHistory] [method:(GET) CommonResult com.yjjk.erp.controller.EcgController.getHealthHistory(Long)]
2019-11-22 16:09:08.548  INFO 16124 --- [http-nio-8080-exec-9] com.yjjk.erp.aspect.WeblogAspect     : args: [548]
2019-11-22 16:09:08.548 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByRecordId               : ==>  Preparing: select record_id, patient_id, machine_id, bed_id, start_time, end_time, usage_state, create_time, `status`,record_type , temperature_history, ecg_history, rate_history from zs_patient_record where record_id = ? and status = 0 
2019-11-22 16:09:08.548 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByRecordId               : ==> Parameters: 548(Long)
2019-11-22 16:09:08.550 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByRecordId               : <==      Total: 1
2019-11-22 16:09:09.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:09.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:09.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:10.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:10.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:10.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:11.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:11.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:11.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:12.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:12.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:12.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:13.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:13.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:13.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:14.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:14.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:14.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:15.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:15.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:15.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:16.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:16.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:16.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:17.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:17.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:17.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:18.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:18.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:18.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:19.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:19.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:19.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:20.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:20.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:20.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:21.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:21.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:21.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:22.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:22.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:22.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:23.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:23.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:23.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:24.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:24.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:24.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:25.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:25.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:25.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:26.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:26.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:26.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:26.701 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:09:26.701 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:09:26.703 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:09:26.703  INFO 16124 --- [http-nio-8080-exec-1] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/heart/monitor] [method:(GET) CommonResult com.yjjk.erp.controller.EcgController.getMonitors(Integer,Integer,Integer,Integer)]
2019-11-22 16:09:26.703  INFO 16124 --- [http-nio-8080-exec-1] com.yjjk.erp.aspect.WeblogAspect     : args: [62, null, null, null]
2019-11-22 16:09:26.703 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select manager_id, account, `password`, `name`, phone, post, department_id, sex, `role`, login_time, create_time, `status` from zs_manager_info where manager_id = ? and status = 0 
2019-11-22 16:09:26.703 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 62(Integer)
2019-11-22 16:09:26.705 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:09:26.705 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.getMonitorsInfoForEcg          : ==>  Preparing: SELECT a.bedId,a.`department_id`,a.departmentName,a.roomName, a.bedName, b.recordId, b.machineId, b.patientName,b.caseNum, b.machineNum, b.machineNo, b.endTime, b.startTime, b.`bed_id`,b.pattery FROM ( SELECT zbi.`bed_id` as bedId,zdi.`department_id`,zdi.name AS departmentName,zri.name AS roomName, zbi.name AS bedName FROM zs_bed_info zbi LEFT JOIN zs_room_info zri ON zbi.`room_id` = zri.room_id LEFT JOIN `zs_department_info` zdi ON zri.`department_id` = zdi.`department_id` WHERE zdi.department_id = ? ) a LEFT JOIN (SELECT zpr.`record_id` AS recordId, zpr.`machine_id` AS machineId, zpi.`name` AS patientName, zpi.`case_num` AS caseNum, zmi.machine_num AS machineNum, zmi.machine_no as machineNo, NOW() AS endTime, zpr.start_time AS startTime, zpr.`bed_id`, zmi.pattery FROM `zs_patient_record` zpr LEFT JOIN zs_patient_info zpi ON zpr.`patient_id` = zpi.`patient_id` LEFT JOIN `zs_machine_info` zmi ON zpr.`machine_id` = zmi.`machine_id` WHERE zpr.`usage_state` = 0 and zpr.record_type=1) b ON b.bed_id = a.bedId order by a.bedId 
2019-11-22 16:09:26.705 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.getMonitorsInfoForEcg          : ==> Parameters: 11(Integer)
2019-11-22 16:09:26.734 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.getMonitorsInfoForEcg          : <==      Total: 41
2019-11-22 16:09:26.735 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.getHealthInfo                  : ==>  Preparing: SELECT c.temperature_id,c.machine_id,c.heart_rate,c.respiratory_rate,c.timestamp FROM (SELECT a.temperature_id,a.machine_id,a.heart_rate,a.respiratory_rate,a.TIMESTAMP FROM (SELECT b.temperature_id,b.machine_id,b.heart_rate,b.respiratory_rate,b.TIMESTAMP FROM `zs_health_info` b ORDER BY create_time DESC /* 设备的检索数量上限为10000 */ LIMIT 10000) a GROUP BY a.machine_id) c LEFT JOIN `zs_machine_info` zmi ON zmi.`machine_id` = c.machine_id and zmi.department_id = ? 
2019-11-22 16:09:26.735 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.getHealthInfo                  : ==> Parameters: 11(Integer)
2019-11-22 16:09:26.741 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.getHealthInfo                  : <==      Total: 2
2019-11-22 16:09:27.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:27.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:27.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:28.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:28.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:28.008 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:29.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:29.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:29.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:30.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:30.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:30.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:31.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:31.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:31.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:32.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:32.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:32.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:33.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:33.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:33.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:34.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:34.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:34.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:35.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:35.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:35.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:36.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:36.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:36.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:37.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:37.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:37.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:38.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:38.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:38.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:39.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:39.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:39.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:40.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:40.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:40.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:41.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:41.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:41.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:42.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:09:42.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:09:42.008 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:09:42.108  INFO 16124 --- [http-nio-8080-exec-2] c.y.monitor.websocket.WebSocketServer    : 有一连接关闭！当前在线人数为0
2019-11-22 16:10:23.307 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:10:23.308 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:10:23.311 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:10:23.311  INFO 16124 --- [http-nio-8080-exec-4] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/heart/healthHistory] [method:(GET) CommonResult com.yjjk.erp.controller.EcgController.getHealthHistory(Long)]
2019-11-22 16:10:23.311  INFO 16124 --- [http-nio-8080-exec-4] com.yjjk.erp.aspect.WeblogAspect     : args: [554]
2019-11-22 16:10:23.311 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByRecordId               : ==>  Preparing: select record_id, patient_id, machine_id, bed_id, start_time, end_time, usage_state, create_time, `status`,record_type , temperature_history, ecg_history, rate_history from zs_patient_record where record_id = ? and status = 0 
2019-11-22 16:10:23.311 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByRecordId               : ==> Parameters: 554(Long)
2019-11-22 16:10:23.313 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByRecordId               : <==      Total: 1
2019-11-22 16:10:23.315 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.getHealthHistory               : ==>  Preparing: SELECT zhi.`heart_rate`, zhi.`respiratory_rate`, zhi.create_time as dateTime FROM `zs_health_info` zhi LEFT JOIN `zs_patient_record` zpr ON zhi.`machine_id` = zpr.`machine_id` WHERE zpr.status = 0 AND zhi.`create_time` >= zpr.`start_time` AND zhi.`create_time` <= now() AND zpr.record_id = ? ORDER BY zhi.`temperature_id`; 
2019-11-22 16:10:23.316 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.getHealthHistory               : ==> Parameters: 554(Long)
2019-11-22 16:10:23.380 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.getHealthHistory               : <==      Total: 738
2019-11-22 16:10:23.539 DEBUG 16124 --- [http-nio-8080-exec-5] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:10:23.540 DEBUG 16124 --- [http-nio-8080-exec-5] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:10:23.542 DEBUG 16124 --- [http-nio-8080-exec-5] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:10:23.543  INFO 16124 --- [http-nio-8080-exec-5] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/heart/monitor] [method:(GET) CommonResult com.yjjk.erp.controller.EcgController.getMonitors(Integer,Integer,Integer,Integer)]
2019-11-22 16:10:23.543  INFO 16124 --- [http-nio-8080-exec-5] com.yjjk.erp.aspect.WeblogAspect     : args: [62, null, null, null]
2019-11-22 16:10:23.543 DEBUG 16124 --- [http-nio-8080-exec-5] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select manager_id, account, `password`, `name`, phone, post, department_id, sex, `role`, login_time, create_time, `status` from zs_manager_info where manager_id = ? and status = 0 
2019-11-22 16:10:23.544 DEBUG 16124 --- [http-nio-8080-exec-5] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 62(Integer)
2019-11-22 16:10:23.546 DEBUG 16124 --- [http-nio-8080-exec-5] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:10:23.547 DEBUG 16124 --- [http-nio-8080-exec-5] c.y.m.m.Z.getMonitorsInfoForEcg          : ==>  Preparing: SELECT a.bedId,a.`department_id`,a.departmentName,a.roomName, a.bedName, b.recordId, b.machineId, b.patientName,b.caseNum, b.machineNum, b.machineNo, b.endTime, b.startTime, b.`bed_id`,b.pattery FROM ( SELECT zbi.`bed_id` as bedId,zdi.`department_id`,zdi.name AS departmentName,zri.name AS roomName, zbi.name AS bedName FROM zs_bed_info zbi LEFT JOIN zs_room_info zri ON zbi.`room_id` = zri.room_id LEFT JOIN `zs_department_info` zdi ON zri.`department_id` = zdi.`department_id` WHERE zdi.department_id = ? ) a LEFT JOIN (SELECT zpr.`record_id` AS recordId, zpr.`machine_id` AS machineId, zpi.`name` AS patientName, zpi.`case_num` AS caseNum, zmi.machine_num AS machineNum, zmi.machine_no as machineNo, NOW() AS endTime, zpr.start_time AS startTime, zpr.`bed_id`, zmi.pattery FROM `zs_patient_record` zpr LEFT JOIN zs_patient_info zpi ON zpr.`patient_id` = zpi.`patient_id` LEFT JOIN `zs_machine_info` zmi ON zpr.`machine_id` = zmi.`machine_id` WHERE zpr.`usage_state` = 0 and zpr.record_type=1) b ON b.bed_id = a.bedId order by a.bedId 
2019-11-22 16:10:23.547 DEBUG 16124 --- [http-nio-8080-exec-5] c.y.m.m.Z.getMonitorsInfoForEcg          : ==> Parameters: 11(Integer)
2019-11-22 16:10:23.578 DEBUG 16124 --- [http-nio-8080-exec-5] c.y.m.m.Z.getMonitorsInfoForEcg          : <==      Total: 41
2019-11-22 16:10:23.579 DEBUG 16124 --- [http-nio-8080-exec-5] c.y.m.m.Z.getHealthInfo                  : ==>  Preparing: SELECT c.temperature_id,c.machine_id,c.heart_rate,c.respiratory_rate,c.timestamp FROM (SELECT a.temperature_id,a.machine_id,a.heart_rate,a.respiratory_rate,a.TIMESTAMP FROM (SELECT b.temperature_id,b.machine_id,b.heart_rate,b.respiratory_rate,b.TIMESTAMP FROM `zs_health_info` b ORDER BY create_time DESC /* 设备的检索数量上限为10000 */ LIMIT 10000) a GROUP BY a.machine_id) c LEFT JOIN `zs_machine_info` zmi ON zmi.`machine_id` = c.machine_id and zmi.department_id = ? 
2019-11-22 16:10:23.579 DEBUG 16124 --- [http-nio-8080-exec-5] c.y.m.m.Z.getHealthInfo                  : ==> Parameters: 11(Integer)
2019-11-22 16:10:23.586 DEBUG 16124 --- [http-nio-8080-exec-5] c.y.m.m.Z.getHealthInfo                  : <==      Total: 2
2019-11-22 16:10:25.928  INFO 16124 --- [http-nio-8080-exec-6] c.y.monitor.websocket.WebSocketServer    : 有新窗口开始监听:101,当前在线人数为1
2019-11-22 16:10:26.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:10:26.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:10:26.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:10:27.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:10:27.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:10:27.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:10:28.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:10:28.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:10:28.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:10:29.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:10:29.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:10:29.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:10:30.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:10:30.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:10:30.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:10:31.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:10:31.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:10:31.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:10:31.008  INFO 16124 --- [http-nio-8080-exec-7] c.y.monitor.websocket.WebSocketServer    : 有一连接关闭！当前在线人数为0
2019-11-22 16:10:31.018 ERROR 16124 --- [scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task.

java.lang.IllegalStateException: Message will not be sent because the WebSocket session has been closed
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:425) ~[tomcat-embed-websocket-9.0.21.jar:9.0.21]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:309) ~[tomcat-embed-websocket-9.0.21.jar:9.0.21]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250) ~[tomcat-embed-websocket-9.0.21.jar:9.0.21]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:191) ~[tomcat-embed-websocket-9.0.21.jar:9.0.21]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) ~[tomcat-embed-websocket-9.0.21.jar:9.0.21]
	at com.yjjk.erp.websocket.WebSocketServer.sendMessage(WebSocketServer.java:95) ~[classes/:na]
	at com.yjjk.erp.configer.TimingPlan.lambda$pushEcgInfo$0(TimingPlan.java:80) ~[classes/:na]
	at java.util.concurrent.CopyOnWriteArrayList.forEach(CopyOnWriteArrayList.java:891) ~[na:1.8.0_231]
	at java.util.concurrent.CopyOnWriteArraySet.forEach(CopyOnWriteArraySet.java:404) ~[na:1.8.0_231]
	at com.yjjk.erp.configer.TimingPlan.pushEcgInfo(TimingPlan.java:73) ~[classes/:na]
	at sun.reflect.GeneratedMethodAccessor84.invoke(Unknown Source) ~[na:na]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_231]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_231]
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93) [spring-context-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_231]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_231]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [na:1.8.0_231]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [na:1.8.0_231]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_231]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_231]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_231]

2019-11-22 16:10:43.048  INFO 16124 --- [http-nio-8080-exec-8] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/manage/access] [method:(GET) void com.yjjk.erp.controller.ManagerController.managerLogin(Integer,Integer,HttpServletRequest,HttpServletResponse)]
2019-11-22 16:10:43.048  INFO 16124 --- [http-nio-8080-exec-8] com.yjjk.erp.aspect.WeblogAspect     : args: [62, 0, org.apache.catalina.connector.RequestFacade@5dd68c32, org.apache.catalina.connector.ResponseFacade@1bfc997c]
2019-11-22 16:10:43.060 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select manager_id, account, `password`, `name`, phone, post, department_id, sex, `role`, login_time, create_time, `status` from zs_manager_info where manager_id = ? and status = 0 
2019-11-22 16:10:43.060 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 62(Integer)
2019-11-22 16:10:43.062 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:10:43.332 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:10:43.333 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:10:43.334 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:10:43.335  INFO 16124 --- [http-nio-8080-exec-9] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/patient/bound] [method:(GET) CommonResult com.yjjk.erp.controller.TemperatureController.getDefaultAlert(Integer)]
2019-11-22 16:10:43.335  INFO 16124 --- [http-nio-8080-exec-9] com.yjjk.erp.aspect.WeblogAspect     : args: [11]
2019-11-22 16:10:43.345 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select department_id, low_temperature, normal_temperature, high_temperature, temperature_alert, low_alert, high_alert, manager_id, change_time, `status` from zs_temperature_bound where department_id = ? 
2019-11-22 16:10:43.345 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: -1(Integer)
2019-11-22 16:10:43.349 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:10:43.350 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select department_id, low_temperature, normal_temperature, high_temperature, temperature_alert, low_alert, high_alert, manager_id, change_time, `status` from zs_temperature_bound where department_id = ? 
2019-11-22 16:10:43.350 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 11(Integer)
2019-11-22 16:10:43.353 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:10:43.353 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:10:43.353 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:10:43.355 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:10:43.355  INFO 16124 --- [http-nio-8080-exec-2] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/hospital/department] [method:(GET) void com.yjjk.erp.controller.HospitalController.selectDetail(Integer,HttpServletRequest,HttpServletResponse)]
2019-11-22 16:10:43.356  INFO 16124 --- [http-nio-8080-exec-2] com.yjjk.erp.aspect.WeblogAspect     : args: [11, org.apache.catalina.connector.RequestFacade@2cbb1316, org.apache.catalina.connector.ResponseFacade@2b99481f]
2019-11-22 16:10:43.361 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.selectDetail                   : ==>  Preparing: select zdi.department_id, zdi.name, zdi.create_time, zdi.status, zri.room_id , zri.department_id as room_department_id, zri.name as room_name, zri.create_time as room_create_time, zri.status as room_status, zbi.bed_id as bed_id, zbi.room_id as bed_room_id, zbi.name as bed_name, zbi.create_time as bed_create_time, zbi.status as bed_status, zhi.hospital_name from zs_department_info zdi left join zs_room_info zri on zdi.department_id = zri.department_id left join zs_bed_info zbi on zri.room_id = zbi.room_id join zs_hospital_info zhi WHERE zdi.department_id = ? 
2019-11-22 16:10:43.362 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.selectDetail                   : ==> Parameters: 11(Integer)
2019-11-22 16:10:43.383 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.selectDetail                   : <==      Total: 41
2019-11-22 16:10:43.406 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:10:43.406 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:10:43.408 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:10:43.409  INFO 16124 --- [http-nio-8080-exec-1] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/patient/monitor] [method:(GET) CommonResult com.yjjk.erp.controller.TemperatureController.getMinitors(Integer,Integer,Integer,Integer)]
2019-11-22 16:10:43.409  INFO 16124 --- [http-nio-8080-exec-1] com.yjjk.erp.aspect.WeblogAspect     : args: [62, null, null, null]
2019-11-22 16:10:43.409 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select manager_id, account, `password`, `name`, phone, post, department_id, sex, `role`, login_time, create_time, `status` from zs_manager_info where manager_id = ? and status = 0 
2019-11-22 16:10:43.410 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 62(Integer)
2019-11-22 16:10:43.411 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:10:43.412 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.getMonitorsInfo                : ==>  Preparing: SELECT a.bedId,a.`department_id`,a.departmentName,a.roomName, a.bedName, b.recordId, b.machineId, b.patientName,b.caseNum, b.machineNum, b.machineNo, b.endTime, b.startTime, b.`bed_id` FROM ( SELECT zbi.`bed_id` as bedId,zdi.`department_id`,zdi.name AS departmentName,zri.name AS roomName, zbi.name AS bedName FROM zs_bed_info zbi LEFT JOIN zs_room_info zri ON zbi.`room_id` = zri.room_id LEFT JOIN `zs_department_info` zdi ON zri.`department_id` = zdi.`department_id` WHERE zdi.department_id = ? ) a LEFT JOIN (SELECT zpr.`record_id` AS recordId, zpr.`machine_id` AS machineId, zpi.`name` AS patientName, zpi.`case_num` AS caseNum, zmi.machine_num AS machineNum, zmi.machine_no as machineNo, NOW() AS endTime, zpr.start_time AS startTime, zpr.`bed_id` FROM `zs_patient_record` zpr LEFT JOIN zs_patient_info zpi ON zpr.`patient_id` = zpi.`patient_id` LEFT JOIN `zs_machine_info` zmi ON zpr.`machine_id` = zmi.`machine_id` WHERE zpr.`usage_state` = 0 and zpr.record_type=0) b ON b.bed_id = a.bedId order by a.bedId 
2019-11-22 16:10:43.412 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.getMonitorsInfo                : ==> Parameters: 11(Integer)
2019-11-22 16:10:43.441 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.getMonitorsInfo                : <==      Total: 41
2019-11-22 16:10:43.442 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.getMinitorsTemperature         : ==>  Preparing: SELECT zmi.`machine_id` AS machineId, c.temperature, c.temperature_status AS temperatureStatus, c.pattery, c.create_time AS createTime FROM (SELECT a.temperature, a.temperature_status, a.pattery, a.create_time, a.machine_num FROM (SELECT b.temperature, b.temperature_status, b.pattery, b.create_time, b.`machine_num` FROM `zs_temperature_info` b ORDER BY create_time DESC /* 设备的检索数量上限为10000 */ LIMIT 10000) a GROUP BY a.machine_num) c LEFT JOIN `zs_machine_info` zmi ON zmi.`machine_num` = c.machine_num -- LEFT JOIN `zs_patient_record` zpr ON zpr.`machine_id` = zmi.`machine_id` -- WHERE zpr.`usage_state` = 0 and zmi.department_id = ? -- ORDER BY zpr.machine_id 
2019-11-22 16:10:43.443 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.getMinitorsTemperature         : ==> Parameters: 11(Integer)
2019-11-22 16:10:43.513 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.getMinitorsTemperature         : <==      Total: 26
2019-11-22 16:10:43.515 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.mapper.ZsBoxInfoMapper.selectAll   : ==>  Preparing: select box_id, machine_num, box_battery_status, create_time, update_time from zs_box_info 
2019-11-22 16:10:43.515 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.mapper.ZsBoxInfoMapper.selectAll   : ==> Parameters: 
2019-11-22 16:10:43.517 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.mapper.ZsBoxInfoMapper.selectAll   : <==      Total: 6
2019-11-22 16:10:43.518 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select department_id, low_temperature, normal_temperature, high_temperature, temperature_alert, low_alert, high_alert, manager_id, change_time, `status` from zs_temperature_bound where department_id = ? 
2019-11-22 16:10:43.518 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 11(Integer)
2019-11-22 16:10:43.520 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:10:43.521 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:10:43.521 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:10:43.523 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:10:43.523  INFO 16124 --- [http-nio-8080-exec-10] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/machine/machineName] [method:(GET) CommonResult com.yjjk.erp.controller.MachineController.getMachineName()]
2019-11-22 16:10:43.523  INFO 16124 --- [http-nio-8080-exec-10] com.yjjk.erp.aspect.WeblogAspect     : args: []
2019-11-22 16:10:43.530 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.selectMachineTypes             : ==>  Preparing: SELECT id,NAME FROM `zs_machine_type_info` WHERE (TYPE = 0 or type = 2) AND LEVEL=0; 
2019-11-22 16:10:43.530 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.selectMachineTypes             : ==> Parameters: 
2019-11-22 16:10:43.532 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.selectMachineTypes             : <==      Total: 2
2019-11-22 16:10:45.844 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:10:45.845 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:10:45.846 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:10:45.847  INFO 16124 --- [http-nio-8080-exec-3] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/heart/monitor] [method:(GET) CommonResult com.yjjk.erp.controller.EcgController.getMonitors(Integer,Integer,Integer,Integer)]
2019-11-22 16:10:45.847  INFO 16124 --- [http-nio-8080-exec-3] com.yjjk.erp.aspect.WeblogAspect     : args: [62, null, null, null]
2019-11-22 16:10:45.847 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select manager_id, account, `password`, `name`, phone, post, department_id, sex, `role`, login_time, create_time, `status` from zs_manager_info where manager_id = ? and status = 0 
2019-11-22 16:10:45.847 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 62(Integer)
2019-11-22 16:10:45.849 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:10:45.849 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.getMonitorsInfoForEcg          : ==>  Preparing: SELECT a.bedId,a.`department_id`,a.departmentName,a.roomName, a.bedName, b.recordId, b.machineId, b.patientName,b.caseNum, b.machineNum, b.machineNo, b.endTime, b.startTime, b.`bed_id`,b.pattery FROM ( SELECT zbi.`bed_id` as bedId,zdi.`department_id`,zdi.name AS departmentName,zri.name AS roomName, zbi.name AS bedName FROM zs_bed_info zbi LEFT JOIN zs_room_info zri ON zbi.`room_id` = zri.room_id LEFT JOIN `zs_department_info` zdi ON zri.`department_id` = zdi.`department_id` WHERE zdi.department_id = ? ) a LEFT JOIN (SELECT zpr.`record_id` AS recordId, zpr.`machine_id` AS machineId, zpi.`name` AS patientName, zpi.`case_num` AS caseNum, zmi.machine_num AS machineNum, zmi.machine_no as machineNo, NOW() AS endTime, zpr.start_time AS startTime, zpr.`bed_id`, zmi.pattery FROM `zs_patient_record` zpr LEFT JOIN zs_patient_info zpi ON zpr.`patient_id` = zpi.`patient_id` LEFT JOIN `zs_machine_info` zmi ON zpr.`machine_id` = zmi.`machine_id` WHERE zpr.`usage_state` = 0 and zpr.record_type=1) b ON b.bed_id = a.bedId order by a.bedId 
2019-11-22 16:10:45.849 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.getMonitorsInfoForEcg          : ==> Parameters: 11(Integer)
2019-11-22 16:10:45.878 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.getMonitorsInfoForEcg          : <==      Total: 41
2019-11-22 16:10:45.878 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.getHealthInfo                  : ==>  Preparing: SELECT c.temperature_id,c.machine_id,c.heart_rate,c.respiratory_rate,c.timestamp FROM (SELECT a.temperature_id,a.machine_id,a.heart_rate,a.respiratory_rate,a.TIMESTAMP FROM (SELECT b.temperature_id,b.machine_id,b.heart_rate,b.respiratory_rate,b.TIMESTAMP FROM `zs_health_info` b ORDER BY create_time DESC /* 设备的检索数量上限为10000 */ LIMIT 10000) a GROUP BY a.machine_id) c LEFT JOIN `zs_machine_info` zmi ON zmi.`machine_id` = c.machine_id and zmi.department_id = ? 
2019-11-22 16:10:45.878 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.getHealthInfo                  : ==> Parameters: 11(Integer)
2019-11-22 16:10:45.880 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.getHealthInfo                  : <==      Total: 2
2019-11-22 16:10:48.447 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:10:48.447 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:10:48.449 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:10:48.450  INFO 16124 --- [http-nio-8080-exec-4] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/heart/healthHistory] [method:(GET) CommonResult com.yjjk.erp.controller.EcgController.getHealthHistory(Long)]
2019-11-22 16:10:48.450  INFO 16124 --- [http-nio-8080-exec-4] com.yjjk.erp.aspect.WeblogAspect     : args: [554]
2019-11-22 16:10:48.450 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByRecordId               : ==>  Preparing: select record_id, patient_id, machine_id, bed_id, start_time, end_time, usage_state, create_time, `status`,record_type , temperature_history, ecg_history, rate_history from zs_patient_record where record_id = ? and status = 0 
2019-11-22 16:10:48.451 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByRecordId               : ==> Parameters: 554(Long)
2019-11-22 16:10:48.453 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByRecordId               : <==      Total: 1
2019-11-22 16:10:48.455 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.getHealthHistory               : ==>  Preparing: SELECT zhi.`heart_rate`, zhi.`respiratory_rate`, zhi.create_time as dateTime FROM `zs_health_info` zhi LEFT JOIN `zs_patient_record` zpr ON zhi.`machine_id` = zpr.`machine_id` WHERE zpr.status = 0 AND zhi.`create_time` >= zpr.`start_time` AND zhi.`create_time` <= now() AND zpr.record_id = ? ORDER BY zhi.`temperature_id`; 
2019-11-22 16:10:48.455 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.getHealthHistory               : ==> Parameters: 554(Long)
2019-11-22 16:10:48.517 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.getHealthHistory               : <==      Total: 738
2019-11-22 16:10:50.488  INFO 16124 --- [http-nio-8080-exec-5] c.y.monitor.websocket.WebSocketServer    : 有新窗口开始监听:101,当前在线人数为1
2019-11-22 16:10:51.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:10:51.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:10:51.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:10:52.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:10:52.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:10:52.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:10:53.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:10:53.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:10:53.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:10:54.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:10:54.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:10:54.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:10:55.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:10:55.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:10:55.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:10:56.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:10:56.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:10:56.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:10:57.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:10:57.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:10:57.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:10:58.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:10:58.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:10:58.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:10:59.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:10:59.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:10:59.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:00.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:00.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:00.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:01.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:01.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:01.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:02.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:02.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:02.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:03.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:03.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:03.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:04.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:04.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:04.009 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:05.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:05.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:05.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:06.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:06.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:06.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:07.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:07.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:07.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:08.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:08.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:08.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:09.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:09.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:09.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:10.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:10.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:10.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:11.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:11.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:11.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:12.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:12.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:12.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:13.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:13.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:13.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:14.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:14.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:14.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:15.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:15.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:15.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:16.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:16.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:16.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:17.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:17.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:17.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:18.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:18.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:18.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:19.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:19.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:19.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:20.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:20.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:20.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:21.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:21.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:21.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:22.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:22.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:22.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:23.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:23.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:23.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:24.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:24.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:24.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:25.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:25.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:25.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:26.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:26.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:26.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:26.697  INFO 16124 --- [http-nio-8080-exec-6] c.y.monitor.websocket.WebSocketServer    : 有一连接关闭！当前在线人数为0
2019-11-22 16:11:35.054  INFO 16124 --- [http-nio-8080-exec-7] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/manage/access] [method:(GET) void com.yjjk.erp.controller.ManagerController.managerLogin(Integer,Integer,HttpServletRequest,HttpServletResponse)]
2019-11-22 16:11:35.055  INFO 16124 --- [http-nio-8080-exec-7] com.yjjk.erp.aspect.WeblogAspect     : args: [62, 0, org.apache.catalina.connector.RequestFacade@42389e97, org.apache.catalina.connector.ResponseFacade@79fe7f26]
2019-11-22 16:11:35.057 DEBUG 16124 --- [http-nio-8080-exec-7] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select manager_id, account, `password`, `name`, phone, post, department_id, sex, `role`, login_time, create_time, `status` from zs_manager_info where manager_id = ? and status = 0 
2019-11-22 16:11:35.057 DEBUG 16124 --- [http-nio-8080-exec-7] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 62(Integer)
2019-11-22 16:11:35.060 DEBUG 16124 --- [http-nio-8080-exec-7] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:11:35.320 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:11:35.321 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:11:35.323 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:11:35.323  INFO 16124 --- [http-nio-8080-exec-8] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/machine/machineName] [method:(GET) CommonResult com.yjjk.erp.controller.MachineController.getMachineName()]
2019-11-22 16:11:35.323  INFO 16124 --- [http-nio-8080-exec-8] com.yjjk.erp.aspect.WeblogAspect     : args: []
2019-11-22 16:11:35.323 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.selectMachineTypes             : ==>  Preparing: SELECT id,NAME FROM `zs_machine_type_info` WHERE (TYPE = 0 or type = 2) AND LEVEL=0; 
2019-11-22 16:11:35.323 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.selectMachineTypes             : ==> Parameters: 
2019-11-22 16:11:35.325 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.selectMachineTypes             : <==      Total: 2
2019-11-22 16:11:35.325 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:11:35.326 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:11:35.329 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:11:35.330  INFO 16124 --- [http-nio-8080-exec-9] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/patient/monitor] [method:(GET) CommonResult com.yjjk.erp.controller.TemperatureController.getMinitors(Integer,Integer,Integer,Integer)]
2019-11-22 16:11:35.330  INFO 16124 --- [http-nio-8080-exec-9] com.yjjk.erp.aspect.WeblogAspect     : args: [62, null, null, null]
2019-11-22 16:11:35.330 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select manager_id, account, `password`, `name`, phone, post, department_id, sex, `role`, login_time, create_time, `status` from zs_manager_info where manager_id = ? and status = 0 
2019-11-22 16:11:35.330 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 62(Integer)
2019-11-22 16:11:35.332 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:11:35.333 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.getMonitorsInfo                : ==>  Preparing: SELECT a.bedId,a.`department_id`,a.departmentName,a.roomName, a.bedName, b.recordId, b.machineId, b.patientName,b.caseNum, b.machineNum, b.machineNo, b.endTime, b.startTime, b.`bed_id` FROM ( SELECT zbi.`bed_id` as bedId,zdi.`department_id`,zdi.name AS departmentName,zri.name AS roomName, zbi.name AS bedName FROM zs_bed_info zbi LEFT JOIN zs_room_info zri ON zbi.`room_id` = zri.room_id LEFT JOIN `zs_department_info` zdi ON zri.`department_id` = zdi.`department_id` WHERE zdi.department_id = ? ) a LEFT JOIN (SELECT zpr.`record_id` AS recordId, zpr.`machine_id` AS machineId, zpi.`name` AS patientName, zpi.`case_num` AS caseNum, zmi.machine_num AS machineNum, zmi.machine_no as machineNo, NOW() AS endTime, zpr.start_time AS startTime, zpr.`bed_id` FROM `zs_patient_record` zpr LEFT JOIN zs_patient_info zpi ON zpr.`patient_id` = zpi.`patient_id` LEFT JOIN `zs_machine_info` zmi ON zpr.`machine_id` = zmi.`machine_id` WHERE zpr.`usage_state` = 0 and zpr.record_type=0) b ON b.bed_id = a.bedId order by a.bedId 
2019-11-22 16:11:35.333 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.getMonitorsInfo                : ==> Parameters: 11(Integer)
2019-11-22 16:11:35.361 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.getMonitorsInfo                : <==      Total: 41
2019-11-22 16:11:35.362 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.getMinitorsTemperature         : ==>  Preparing: SELECT zmi.`machine_id` AS machineId, c.temperature, c.temperature_status AS temperatureStatus, c.pattery, c.create_time AS createTime FROM (SELECT a.temperature, a.temperature_status, a.pattery, a.create_time, a.machine_num FROM (SELECT b.temperature, b.temperature_status, b.pattery, b.create_time, b.`machine_num` FROM `zs_temperature_info` b ORDER BY create_time DESC /* 设备的检索数量上限为10000 */ LIMIT 10000) a GROUP BY a.machine_num) c LEFT JOIN `zs_machine_info` zmi ON zmi.`machine_num` = c.machine_num -- LEFT JOIN `zs_patient_record` zpr ON zpr.`machine_id` = zmi.`machine_id` -- WHERE zpr.`usage_state` = 0 and zmi.department_id = ? -- ORDER BY zpr.machine_id 
2019-11-22 16:11:35.362 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.getMinitorsTemperature         : ==> Parameters: 11(Integer)
2019-11-22 16:11:35.367 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.getMinitorsTemperature         : <==      Total: 26
2019-11-22 16:11:35.368 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.mapper.ZsBoxInfoMapper.selectAll   : ==>  Preparing: select box_id, machine_num, box_battery_status, create_time, update_time from zs_box_info 
2019-11-22 16:11:35.368 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.mapper.ZsBoxInfoMapper.selectAll   : ==> Parameters: 
2019-11-22 16:11:35.370 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.mapper.ZsBoxInfoMapper.selectAll   : <==      Total: 6
2019-11-22 16:11:35.370 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select department_id, low_temperature, normal_temperature, high_temperature, temperature_alert, low_alert, high_alert, manager_id, change_time, `status` from zs_temperature_bound where department_id = ? 
2019-11-22 16:11:35.371 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 11(Integer)
2019-11-22 16:11:35.373 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:11:35.374 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:11:35.374 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:11:35.377 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:11:35.377  INFO 16124 --- [http-nio-8080-exec-1] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/patient/bound] [method:(GET) CommonResult com.yjjk.erp.controller.TemperatureController.getDefaultAlert(Integer)]
2019-11-22 16:11:35.378  INFO 16124 --- [http-nio-8080-exec-1] com.yjjk.erp.aspect.WeblogAspect     : args: [11]
2019-11-22 16:11:35.379 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select department_id, low_temperature, normal_temperature, high_temperature, temperature_alert, low_alert, high_alert, manager_id, change_time, `status` from zs_temperature_bound where department_id = ? 
2019-11-22 16:11:35.379 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: -1(Integer)
2019-11-22 16:11:35.381 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:11:35.381 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select department_id, low_temperature, normal_temperature, high_temperature, temperature_alert, low_alert, high_alert, manager_id, change_time, `status` from zs_temperature_bound where department_id = ? 
2019-11-22 16:11:35.382 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 11(Integer)
2019-11-22 16:11:35.383 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:11:35.384 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:11:35.384 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:11:35.386 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:11:35.386  INFO 16124 --- [http-nio-8080-exec-2] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/hospital/department] [method:(GET) void com.yjjk.erp.controller.HospitalController.selectDetail(Integer,HttpServletRequest,HttpServletResponse)]
2019-11-22 16:11:35.386  INFO 16124 --- [http-nio-8080-exec-2] com.yjjk.erp.aspect.WeblogAspect     : args: [11, org.apache.catalina.connector.RequestFacade@5dd68c32, org.apache.catalina.connector.ResponseFacade@1bfc997c]
2019-11-22 16:11:35.387 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.selectDetail                   : ==>  Preparing: select zdi.department_id, zdi.name, zdi.create_time, zdi.status, zri.room_id , zri.department_id as room_department_id, zri.name as room_name, zri.create_time as room_create_time, zri.status as room_status, zbi.bed_id as bed_id, zbi.room_id as bed_room_id, zbi.name as bed_name, zbi.create_time as bed_create_time, zbi.status as bed_status, zhi.hospital_name from zs_department_info zdi left join zs_room_info zri on zdi.department_id = zri.department_id left join zs_bed_info zbi on zri.room_id = zbi.room_id join zs_hospital_info zhi WHERE zdi.department_id = ? 
2019-11-22 16:11:35.387 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.selectDetail                   : ==> Parameters: 11(Integer)
2019-11-22 16:11:35.401 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.selectDetail                   : <==      Total: 41
2019-11-22 16:11:38.212 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:11:38.212 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:11:38.214 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:11:38.215  INFO 16124 --- [http-nio-8080-exec-10] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/heart/monitor] [method:(GET) CommonResult com.yjjk.erp.controller.EcgController.getMonitors(Integer,Integer,Integer,Integer)]
2019-11-22 16:11:38.215  INFO 16124 --- [http-nio-8080-exec-10] com.yjjk.erp.aspect.WeblogAspect     : args: [62, null, null, null]
2019-11-22 16:11:38.216 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select manager_id, account, `password`, `name`, phone, post, department_id, sex, `role`, login_time, create_time, `status` from zs_manager_info where manager_id = ? and status = 0 
2019-11-22 16:11:38.216 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 62(Integer)
2019-11-22 16:11:38.218 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:11:38.219 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.getMonitorsInfoForEcg          : ==>  Preparing: SELECT a.bedId,a.`department_id`,a.departmentName,a.roomName, a.bedName, b.recordId, b.machineId, b.patientName,b.caseNum, b.machineNum, b.machineNo, b.endTime, b.startTime, b.`bed_id`,b.pattery FROM ( SELECT zbi.`bed_id` as bedId,zdi.`department_id`,zdi.name AS departmentName,zri.name AS roomName, zbi.name AS bedName FROM zs_bed_info zbi LEFT JOIN zs_room_info zri ON zbi.`room_id` = zri.room_id LEFT JOIN `zs_department_info` zdi ON zri.`department_id` = zdi.`department_id` WHERE zdi.department_id = ? ) a LEFT JOIN (SELECT zpr.`record_id` AS recordId, zpr.`machine_id` AS machineId, zpi.`name` AS patientName, zpi.`case_num` AS caseNum, zmi.machine_num AS machineNum, zmi.machine_no as machineNo, NOW() AS endTime, zpr.start_time AS startTime, zpr.`bed_id`, zmi.pattery FROM `zs_patient_record` zpr LEFT JOIN zs_patient_info zpi ON zpr.`patient_id` = zpi.`patient_id` LEFT JOIN `zs_machine_info` zmi ON zpr.`machine_id` = zmi.`machine_id` WHERE zpr.`usage_state` = 0 and zpr.record_type=1) b ON b.bed_id = a.bedId order by a.bedId 
2019-11-22 16:11:38.219 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.getMonitorsInfoForEcg          : ==> Parameters: 11(Integer)
2019-11-22 16:11:38.252 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.getMonitorsInfoForEcg          : <==      Total: 41
2019-11-22 16:11:38.253 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.getHealthInfo                  : ==>  Preparing: SELECT c.temperature_id,c.machine_id,c.heart_rate,c.respiratory_rate,c.timestamp FROM (SELECT a.temperature_id,a.machine_id,a.heart_rate,a.respiratory_rate,a.TIMESTAMP FROM (SELECT b.temperature_id,b.machine_id,b.heart_rate,b.respiratory_rate,b.TIMESTAMP FROM `zs_health_info` b ORDER BY create_time DESC /* 设备的检索数量上限为10000 */ LIMIT 10000) a GROUP BY a.machine_id) c LEFT JOIN `zs_machine_info` zmi ON zmi.`machine_id` = c.machine_id and zmi.department_id = ? 
2019-11-22 16:11:38.253 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.getHealthInfo                  : ==> Parameters: 11(Integer)
2019-11-22 16:11:38.260 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.getHealthInfo                  : <==      Total: 2
2019-11-22 16:11:40.172 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:11:40.172 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:11:40.174 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:11:40.174  INFO 16124 --- [http-nio-8080-exec-3] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/heart/healthHistory] [method:(GET) CommonResult com.yjjk.erp.controller.EcgController.getHealthHistory(Long)]
2019-11-22 16:11:40.174  INFO 16124 --- [http-nio-8080-exec-3] com.yjjk.erp.aspect.WeblogAspect     : args: [554]
2019-11-22 16:11:40.175 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByRecordId               : ==>  Preparing: select record_id, patient_id, machine_id, bed_id, start_time, end_time, usage_state, create_time, `status`,record_type , temperature_history, ecg_history, rate_history from zs_patient_record where record_id = ? and status = 0 
2019-11-22 16:11:40.175 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByRecordId               : ==> Parameters: 554(Long)
2019-11-22 16:11:40.176 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByRecordId               : <==      Total: 1
2019-11-22 16:11:40.178 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.getHealthHistory               : ==>  Preparing: SELECT zhi.`heart_rate`, zhi.`respiratory_rate`, zhi.create_time as dateTime FROM `zs_health_info` zhi LEFT JOIN `zs_patient_record` zpr ON zhi.`machine_id` = zpr.`machine_id` WHERE zpr.status = 0 AND zhi.`create_time` >= zpr.`start_time` AND zhi.`create_time` <= now() AND zpr.record_id = ? ORDER BY zhi.`temperature_id`; 
2019-11-22 16:11:40.178 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.getHealthHistory               : ==> Parameters: 554(Long)
2019-11-22 16:11:40.233 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.getHealthHistory               : <==      Total: 739
2019-11-22 16:11:42.141  INFO 16124 --- [http-nio-8080-exec-4] c.y.monitor.websocket.WebSocketServer    : 有新窗口开始监听:101,当前在线人数为1
2019-11-22 16:11:43.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:43.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:43.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:44.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:44.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:44.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:45.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:45.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:45.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:46.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:46.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:46.008 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:47.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:47.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:47.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:48.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:48.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:48.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:49.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:49.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:49.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:50.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:50.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:50.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:51.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:51.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:51.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:52.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:52.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:52.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:53.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:53.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:53.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:54.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:54.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:54.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:55.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:55.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:55.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:56.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:56.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:56.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:57.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:57.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:57.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:58.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:58.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:58.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:11:59.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:11:59.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:11:59.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:00.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:00.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:00.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:01.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:01.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:01.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:02.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:02.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:02.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:03.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:03.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:03.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:04.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:04.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:04.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:05.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:05.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:05.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:06.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:06.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:06.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:07.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:07.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:07.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:08.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:08.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:08.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:09.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:09.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:09.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:10.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:10.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:10.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:11.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:11.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:11.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:12.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:12.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:12.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:13.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:13.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:13.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:14.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:14.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:14.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:15.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:15.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:15.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:16.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:16.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:16.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:17.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:17.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:17.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:18.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:18.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:18.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:19.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:19.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:19.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:20.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:20.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:20.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:21.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:21.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:21.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:22.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:22.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:22.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:23.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:23.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:23.008 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:24.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:24.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:24.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:25.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:25.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:25.008 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:26.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:26.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:26.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:27.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:27.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:27.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:28.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:28.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:28.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:29.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:29.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:29.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:30.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:30.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:30.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:31.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:31.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:31.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:32.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:32.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:32.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:33.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:33.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:33.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:34.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:34.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:34.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:35.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:35.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:35.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:36.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:36.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:36.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:37.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:37.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:37.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:38.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:38.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:38.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:38.280 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:12:38.280 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:12:38.282 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:12:38.282  INFO 16124 --- [http-nio-8080-exec-8] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/heart/monitor] [method:(GET) CommonResult com.yjjk.erp.controller.EcgController.getMonitors(Integer,Integer,Integer,Integer)]
2019-11-22 16:12:38.283  INFO 16124 --- [http-nio-8080-exec-8] com.yjjk.erp.aspect.WeblogAspect     : args: [62, null, null, null]
2019-11-22 16:12:38.283 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select manager_id, account, `password`, `name`, phone, post, department_id, sex, `role`, login_time, create_time, `status` from zs_manager_info where manager_id = ? and status = 0 
2019-11-22 16:12:38.283 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 62(Integer)
2019-11-22 16:12:38.286 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:12:38.286 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.getMonitorsInfoForEcg          : ==>  Preparing: SELECT a.bedId,a.`department_id`,a.departmentName,a.roomName, a.bedName, b.recordId, b.machineId, b.patientName,b.caseNum, b.machineNum, b.machineNo, b.endTime, b.startTime, b.`bed_id`,b.pattery FROM ( SELECT zbi.`bed_id` as bedId,zdi.`department_id`,zdi.name AS departmentName,zri.name AS roomName, zbi.name AS bedName FROM zs_bed_info zbi LEFT JOIN zs_room_info zri ON zbi.`room_id` = zri.room_id LEFT JOIN `zs_department_info` zdi ON zri.`department_id` = zdi.`department_id` WHERE zdi.department_id = ? ) a LEFT JOIN (SELECT zpr.`record_id` AS recordId, zpr.`machine_id` AS machineId, zpi.`name` AS patientName, zpi.`case_num` AS caseNum, zmi.machine_num AS machineNum, zmi.machine_no as machineNo, NOW() AS endTime, zpr.start_time AS startTime, zpr.`bed_id`, zmi.pattery FROM `zs_patient_record` zpr LEFT JOIN zs_patient_info zpi ON zpr.`patient_id` = zpi.`patient_id` LEFT JOIN `zs_machine_info` zmi ON zpr.`machine_id` = zmi.`machine_id` WHERE zpr.`usage_state` = 0 and zpr.record_type=1) b ON b.bed_id = a.bedId order by a.bedId 
2019-11-22 16:12:38.287 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.getMonitorsInfoForEcg          : ==> Parameters: 11(Integer)
2019-11-22 16:12:38.314 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.getMonitorsInfoForEcg          : <==      Total: 41
2019-11-22 16:12:38.315 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.getHealthInfo                  : ==>  Preparing: SELECT c.temperature_id,c.machine_id,c.heart_rate,c.respiratory_rate,c.timestamp FROM (SELECT a.temperature_id,a.machine_id,a.heart_rate,a.respiratory_rate,a.TIMESTAMP FROM (SELECT b.temperature_id,b.machine_id,b.heart_rate,b.respiratory_rate,b.TIMESTAMP FROM `zs_health_info` b ORDER BY create_time DESC /* 设备的检索数量上限为10000 */ LIMIT 10000) a GROUP BY a.machine_id) c LEFT JOIN `zs_machine_info` zmi ON zmi.`machine_id` = c.machine_id and zmi.department_id = ? 
2019-11-22 16:12:38.315 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.getHealthInfo                  : ==> Parameters: 11(Integer)
2019-11-22 16:12:38.321 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.getHealthInfo                  : <==      Total: 2
2019-11-22 16:12:39.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:39.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:39.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:40.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:40.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:40.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:41.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:41.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:41.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:42.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:12:42.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:12:42.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:12:42.423  INFO 16124 --- [http-nio-8080-exec-9] c.y.monitor.websocket.WebSocketServer    : 有一连接关闭！当前在线人数为0
2019-11-22 16:13:38.195 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:13:38.196 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:13:38.198 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:13:38.199  INFO 16124 --- [http-nio-8080-exec-1] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/heart/monitor] [method:(GET) CommonResult com.yjjk.erp.controller.EcgController.getMonitors(Integer,Integer,Integer,Integer)]
2019-11-22 16:13:38.199  INFO 16124 --- [http-nio-8080-exec-1] com.yjjk.erp.aspect.WeblogAspect     : args: [62, null, null, null]
2019-11-22 16:13:38.199 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select manager_id, account, `password`, `name`, phone, post, department_id, sex, `role`, login_time, create_time, `status` from zs_manager_info where manager_id = ? and status = 0 
2019-11-22 16:13:38.199 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 62(Integer)
2019-11-22 16:13:38.201 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:13:38.202 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.getMonitorsInfoForEcg          : ==>  Preparing: SELECT a.bedId,a.`department_id`,a.departmentName,a.roomName, a.bedName, b.recordId, b.machineId, b.patientName,b.caseNum, b.machineNum, b.machineNo, b.endTime, b.startTime, b.`bed_id`,b.pattery FROM ( SELECT zbi.`bed_id` as bedId,zdi.`department_id`,zdi.name AS departmentName,zri.name AS roomName, zbi.name AS bedName FROM zs_bed_info zbi LEFT JOIN zs_room_info zri ON zbi.`room_id` = zri.room_id LEFT JOIN `zs_department_info` zdi ON zri.`department_id` = zdi.`department_id` WHERE zdi.department_id = ? ) a LEFT JOIN (SELECT zpr.`record_id` AS recordId, zpr.`machine_id` AS machineId, zpi.`name` AS patientName, zpi.`case_num` AS caseNum, zmi.machine_num AS machineNum, zmi.machine_no as machineNo, NOW() AS endTime, zpr.start_time AS startTime, zpr.`bed_id`, zmi.pattery FROM `zs_patient_record` zpr LEFT JOIN zs_patient_info zpi ON zpr.`patient_id` = zpi.`patient_id` LEFT JOIN `zs_machine_info` zmi ON zpr.`machine_id` = zmi.`machine_id` WHERE zpr.`usage_state` = 0 and zpr.record_type=1) b ON b.bed_id = a.bedId order by a.bedId 
2019-11-22 16:13:38.203 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.getMonitorsInfoForEcg          : ==> Parameters: 11(Integer)
2019-11-22 16:13:38.234 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.getMonitorsInfoForEcg          : <==      Total: 41
2019-11-22 16:13:38.235 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.getHealthInfo                  : ==>  Preparing: SELECT c.temperature_id,c.machine_id,c.heart_rate,c.respiratory_rate,c.timestamp FROM (SELECT a.temperature_id,a.machine_id,a.heart_rate,a.respiratory_rate,a.TIMESTAMP FROM (SELECT b.temperature_id,b.machine_id,b.heart_rate,b.respiratory_rate,b.TIMESTAMP FROM `zs_health_info` b ORDER BY create_time DESC /* 设备的检索数量上限为10000 */ LIMIT 10000) a GROUP BY a.machine_id) c LEFT JOIN `zs_machine_info` zmi ON zmi.`machine_id` = c.machine_id and zmi.department_id = ? 
2019-11-22 16:13:38.235 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.getHealthInfo                  : ==> Parameters: 11(Integer)
2019-11-22 16:13:38.244 DEBUG 16124 --- [http-nio-8080-exec-1] c.y.m.m.Z.getHealthInfo                  : <==      Total: 2
2019-11-22 16:14:38.201 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:14:38.202 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:14:38.203 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:14:38.204  INFO 16124 --- [http-nio-8080-exec-2] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/heart/monitor] [method:(GET) CommonResult com.yjjk.erp.controller.EcgController.getMonitors(Integer,Integer,Integer,Integer)]
2019-11-22 16:14:38.204  INFO 16124 --- [http-nio-8080-exec-2] com.yjjk.erp.aspect.WeblogAspect     : args: [62, null, null, null]
2019-11-22 16:14:38.205 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select manager_id, account, `password`, `name`, phone, post, department_id, sex, `role`, login_time, create_time, `status` from zs_manager_info where manager_id = ? and status = 0 
2019-11-22 16:14:38.205 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 62(Integer)
2019-11-22 16:14:38.207 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:14:38.207 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.getMonitorsInfoForEcg          : ==>  Preparing: SELECT a.bedId,a.`department_id`,a.departmentName,a.roomName, a.bedName, b.recordId, b.machineId, b.patientName,b.caseNum, b.machineNum, b.machineNo, b.endTime, b.startTime, b.`bed_id`,b.pattery FROM ( SELECT zbi.`bed_id` as bedId,zdi.`department_id`,zdi.name AS departmentName,zri.name AS roomName, zbi.name AS bedName FROM zs_bed_info zbi LEFT JOIN zs_room_info zri ON zbi.`room_id` = zri.room_id LEFT JOIN `zs_department_info` zdi ON zri.`department_id` = zdi.`department_id` WHERE zdi.department_id = ? ) a LEFT JOIN (SELECT zpr.`record_id` AS recordId, zpr.`machine_id` AS machineId, zpi.`name` AS patientName, zpi.`case_num` AS caseNum, zmi.machine_num AS machineNum, zmi.machine_no as machineNo, NOW() AS endTime, zpr.start_time AS startTime, zpr.`bed_id`, zmi.pattery FROM `zs_patient_record` zpr LEFT JOIN zs_patient_info zpi ON zpr.`patient_id` = zpi.`patient_id` LEFT JOIN `zs_machine_info` zmi ON zpr.`machine_id` = zmi.`machine_id` WHERE zpr.`usage_state` = 0 and zpr.record_type=1) b ON b.bed_id = a.bedId order by a.bedId 
2019-11-22 16:14:38.208 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.getMonitorsInfoForEcg          : ==> Parameters: 11(Integer)
2019-11-22 16:14:38.235 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.getMonitorsInfoForEcg          : <==      Total: 41
2019-11-22 16:14:38.235 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.getHealthInfo                  : ==>  Preparing: SELECT c.temperature_id,c.machine_id,c.heart_rate,c.respiratory_rate,c.timestamp FROM (SELECT a.temperature_id,a.machine_id,a.heart_rate,a.respiratory_rate,a.TIMESTAMP FROM (SELECT b.temperature_id,b.machine_id,b.heart_rate,b.respiratory_rate,b.TIMESTAMP FROM `zs_health_info` b ORDER BY create_time DESC /* 设备的检索数量上限为10000 */ LIMIT 10000) a GROUP BY a.machine_id) c LEFT JOIN `zs_machine_info` zmi ON zmi.`machine_id` = c.machine_id and zmi.department_id = ? 
2019-11-22 16:14:38.236 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.getHealthInfo                  : ==> Parameters: 11(Integer)
2019-11-22 16:14:38.242 DEBUG 16124 --- [http-nio-8080-exec-2] c.y.m.m.Z.getHealthInfo                  : <==      Total: 2
2019-11-22 16:14:51.986 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:14:51.986 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:14:51.988 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:14:51.988  INFO 16124 --- [http-nio-8080-exec-10] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/heart/healthHistory] [method:(GET) CommonResult com.yjjk.erp.controller.EcgController.getHealthHistory(Long)]
2019-11-22 16:14:51.988  INFO 16124 --- [http-nio-8080-exec-10] com.yjjk.erp.aspect.WeblogAspect     : args: [554]
2019-11-22 16:14:51.988 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.selectByRecordId               : ==>  Preparing: select record_id, patient_id, machine_id, bed_id, start_time, end_time, usage_state, create_time, `status`,record_type , temperature_history, ecg_history, rate_history from zs_patient_record where record_id = ? and status = 0 
2019-11-22 16:14:51.989 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.selectByRecordId               : ==> Parameters: 554(Long)
2019-11-22 16:14:51.990 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.selectByRecordId               : <==      Total: 1
2019-11-22 16:14:51.991 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.getHealthHistory               : ==>  Preparing: SELECT zhi.`heart_rate`, zhi.`respiratory_rate`, zhi.create_time as dateTime FROM `zs_health_info` zhi LEFT JOIN `zs_patient_record` zpr ON zhi.`machine_id` = zpr.`machine_id` WHERE zpr.status = 0 AND zhi.`create_time` >= zpr.`start_time` AND zhi.`create_time` <= now() AND zpr.record_id = ? ORDER BY zhi.`temperature_id`; 
2019-11-22 16:14:51.991 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.getHealthHistory               : ==> Parameters: 554(Long)
2019-11-22 16:14:52.052 DEBUG 16124 --- [http-nio-8080-exec-10] c.y.m.m.Z.getHealthHistory               : <==      Total: 742
2019-11-22 16:14:54.109  INFO 16124 --- [http-nio-8080-exec-3] c.y.monitor.websocket.WebSocketServer    : 有新窗口开始监听:101,当前在线人数为1
2019-11-22 16:14:55.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:14:55.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:14:55.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:14:56.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:14:56.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:14:56.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:14:57.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:14:57.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:14:57.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:14:58.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:14:58.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:14:58.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:14:59.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:14:59.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:14:59.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:00.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:00.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:00.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:01.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:01.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:01.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:02.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:02.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:02.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:03.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:03.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:03.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:04.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:04.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:04.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:05.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:05.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:05.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:06.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:06.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:06.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:07.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:07.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:07.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:08.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:08.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:08.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:09.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:09.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:09.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:10.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:10.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:10.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:11.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:11.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:11.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:12.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:12.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:12.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:13.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:13.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:13.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:14.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:14.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:14.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:15.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:15.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:15.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:16.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:16.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:16.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:17.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:17.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:17.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:18.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:18.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:18.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:19.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:19.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:19.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:20.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:20.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:20.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:21.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:21.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:21.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:22.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:22.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:22.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:23.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:23.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:23.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:24.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:24.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:24.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:25.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:25.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:25.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:26.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:26.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:26.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:27.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:27.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:27.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:28.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:28.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:28.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:29.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:29.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:29.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:30.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:30.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:30.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:31.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:31.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:31.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:32.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:32.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:32.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:33.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:33.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:33.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:34.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:34.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:34.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:35.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:35.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:35.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:36.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:36.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:36.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:37.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:37.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:37.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:38.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:38.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:38.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:38.203 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:15:38.203 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:15:38.205 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:15:38.205  INFO 16124 --- [http-nio-8080-exec-4] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/heart/monitor] [method:(GET) CommonResult com.yjjk.erp.controller.EcgController.getMonitors(Integer,Integer,Integer,Integer)]
2019-11-22 16:15:38.205  INFO 16124 --- [http-nio-8080-exec-4] com.yjjk.erp.aspect.WeblogAspect     : args: [62, null, null, null]
2019-11-22 16:15:38.206 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select manager_id, account, `password`, `name`, phone, post, department_id, sex, `role`, login_time, create_time, `status` from zs_manager_info where manager_id = ? and status = 0 
2019-11-22 16:15:38.206 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 62(Integer)
2019-11-22 16:15:38.208 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:15:38.208 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.getMonitorsInfoForEcg          : ==>  Preparing: SELECT a.bedId,a.`department_id`,a.departmentName,a.roomName, a.bedName, b.recordId, b.machineId, b.patientName,b.caseNum, b.machineNum, b.machineNo, b.endTime, b.startTime, b.`bed_id`,b.pattery FROM ( SELECT zbi.`bed_id` as bedId,zdi.`department_id`,zdi.name AS departmentName,zri.name AS roomName, zbi.name AS bedName FROM zs_bed_info zbi LEFT JOIN zs_room_info zri ON zbi.`room_id` = zri.room_id LEFT JOIN `zs_department_info` zdi ON zri.`department_id` = zdi.`department_id` WHERE zdi.department_id = ? ) a LEFT JOIN (SELECT zpr.`record_id` AS recordId, zpr.`machine_id` AS machineId, zpi.`name` AS patientName, zpi.`case_num` AS caseNum, zmi.machine_num AS machineNum, zmi.machine_no as machineNo, NOW() AS endTime, zpr.start_time AS startTime, zpr.`bed_id`, zmi.pattery FROM `zs_patient_record` zpr LEFT JOIN zs_patient_info zpi ON zpr.`patient_id` = zpi.`patient_id` LEFT JOIN `zs_machine_info` zmi ON zpr.`machine_id` = zmi.`machine_id` WHERE zpr.`usage_state` = 0 and zpr.record_type=1) b ON b.bed_id = a.bedId order by a.bedId 
2019-11-22 16:15:38.208 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.getMonitorsInfoForEcg          : ==> Parameters: 11(Integer)
2019-11-22 16:15:38.234 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.getMonitorsInfoForEcg          : <==      Total: 41
2019-11-22 16:15:38.234 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.getHealthInfo                  : ==>  Preparing: SELECT c.temperature_id,c.machine_id,c.heart_rate,c.respiratory_rate,c.timestamp FROM (SELECT a.temperature_id,a.machine_id,a.heart_rate,a.respiratory_rate,a.TIMESTAMP FROM (SELECT b.temperature_id,b.machine_id,b.heart_rate,b.respiratory_rate,b.TIMESTAMP FROM `zs_health_info` b ORDER BY create_time DESC /* 设备的检索数量上限为10000 */ LIMIT 10000) a GROUP BY a.machine_id) c LEFT JOIN `zs_machine_info` zmi ON zmi.`machine_id` = c.machine_id and zmi.department_id = ? 
2019-11-22 16:15:38.235 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.getHealthInfo                  : ==> Parameters: 11(Integer)
2019-11-22 16:15:38.240 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.getHealthInfo                  : <==      Total: 2
2019-11-22 16:15:39.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:39.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:39.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:40.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:40.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:40.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:41.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:41.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:41.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:42.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:42.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:42.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:43.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:43.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:43.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:44.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:44.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:44.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:45.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:45.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:45.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:45.508  INFO 16124 --- [http-nio-8080-exec-5] c.y.monitor.websocket.WebSocketServer    : 有一连接关闭！当前在线人数为0
2019-11-22 16:15:51.210 DEBUG 16124 --- [http-nio-8080-exec-6] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:15:51.211 DEBUG 16124 --- [http-nio-8080-exec-6] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:15:51.212 DEBUG 16124 --- [http-nio-8080-exec-6] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:15:51.212  INFO 16124 --- [http-nio-8080-exec-6] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/heart/healthHistory] [method:(GET) CommonResult com.yjjk.erp.controller.EcgController.getHealthHistory(Long)]
2019-11-22 16:15:51.213  INFO 16124 --- [http-nio-8080-exec-6] com.yjjk.erp.aspect.WeblogAspect     : args: [554]
2019-11-22 16:15:51.213 DEBUG 16124 --- [http-nio-8080-exec-6] c.y.m.m.Z.selectByRecordId               : ==>  Preparing: select record_id, patient_id, machine_id, bed_id, start_time, end_time, usage_state, create_time, `status`,record_type , temperature_history, ecg_history, rate_history from zs_patient_record where record_id = ? and status = 0 
2019-11-22 16:15:51.213 DEBUG 16124 --- [http-nio-8080-exec-6] c.y.m.m.Z.selectByRecordId               : ==> Parameters: 554(Long)
2019-11-22 16:15:51.215 DEBUG 16124 --- [http-nio-8080-exec-6] c.y.m.m.Z.selectByRecordId               : <==      Total: 1
2019-11-22 16:15:51.215 DEBUG 16124 --- [http-nio-8080-exec-6] c.y.m.m.Z.getHealthHistory               : ==>  Preparing: SELECT zhi.`heart_rate`, zhi.`respiratory_rate`, zhi.create_time as dateTime FROM `zs_health_info` zhi LEFT JOIN `zs_patient_record` zpr ON zhi.`machine_id` = zpr.`machine_id` WHERE zpr.status = 0 AND zhi.`create_time` >= zpr.`start_time` AND zhi.`create_time` <= now() AND zpr.record_id = ? ORDER BY zhi.`temperature_id`; 
2019-11-22 16:15:51.216 DEBUG 16124 --- [http-nio-8080-exec-6] c.y.m.m.Z.getHealthHistory               : ==> Parameters: 554(Long)
2019-11-22 16:15:51.271 DEBUG 16124 --- [http-nio-8080-exec-6] c.y.m.m.Z.getHealthHistory               : <==      Total: 743
2019-11-22 16:15:53.592  INFO 16124 --- [http-nio-8080-exec-7] c.y.monitor.websocket.WebSocketServer    : 有新窗口开始监听:101,当前在线人数为1
2019-11-22 16:15:54.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:54.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:54.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:55.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:55.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:55.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:56.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:56.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:56.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:57.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:57.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:57.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:58.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:58.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:58.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:15:59.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:15:59.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:15:59.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:00.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:00.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:00.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:01.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:01.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:01.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:02.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:02.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:02.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:03.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:03.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:03.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:04.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:04.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:04.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:05.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:05.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:05.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:06.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:06.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:06.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:07.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:07.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:07.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:08.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:08.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:08.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:09.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:09.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:09.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:10.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:10.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:10.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:11.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:11.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:11.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:12.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:12.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:12.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:12.373  INFO 16124 --- [http-nio-8080-exec-8] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.185] [url:/yjjk/manage/login] [method:(POST) void com.yjjk.erp.controller.ManagerController.managerLogin(String,String,HttpServletRequest,HttpServletResponse)]
2019-11-22 16:16:12.374  INFO 16124 --- [http-nio-8080-exec-8] com.yjjk.erp.aspect.WeblogAspect     : args: [centres, 123456, org.apache.catalina.connector.RequestFacade@5dd68c32, org.apache.catalina.connector.ResponseFacade@1bfc997c]
2019-11-22 16:16:12.375 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.selectByAccount                : ==>  Preparing: select manager_id, account, `password`, `name`, phone, post, department_id, sex, `role`, login_time, create_time, `status` from zs_manager_info WHERE account = ? and status = 0 
2019-11-22 16:16:12.375 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.selectByAccount                : ==> Parameters: centres(String)
2019-11-22 16:16:12.377 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.selectByAccount                : <==      Total: 1
2019-11-22 16:16:12.392 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.updateByPrimaryKeySelective    : ==>  Preparing: update zs_manager_info SET account = ?, `password` = ?, `name` = ?, phone = ?, post = ?, department_id = ?, sex = ?, `role` = ?, login_time = ?, create_time = ?, `status` = ? where manager_id = ? 
2019-11-22 16:16:12.392 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.updateByPrimaryKeySelective    : ==> Parameters: centres(String), e941A50D902e11ba7c0F7492bF03D9dC759d1CdbEf92e9Af(String), yu(String), 13074500888(String), 护士长(String), 11(Integer), 1(Integer), 2(Integer), 2019-11-22 16:16:12(String), 2019-08-15 14:44:54(String), 0(Integer), 29(Integer)
2019-11-22 16:16:12.442 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.updateByPrimaryKeySelective    : <==    Updates: 1
2019-11-22 16:16:12.454 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.selectByManagerId              : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where manager_id = ? and status = 0 
2019-11-22 16:16:12.454 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.selectByManagerId              : ==> Parameters: 29(Integer)
2019-11-22 16:16:12.456 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.selectByManagerId              : <==      Total: 1
2019-11-22 16:16:12.458 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.updateByPrimaryKeySelective    : ==>  Preparing: update zs_login_state SET ip = ?, manager_id = ?, login_out = ?, `status` = ? where token = ? 
2019-11-22 16:16:12.458 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.updateByPrimaryKeySelective    : ==> Parameters: 192.168.31.185(String), 29(Integer), 2019-10-12 14:01:23(String), 0(Integer), 44D1FAD443368C8D(String)
2019-11-22 16:16:12.461 DEBUG 16124 --- [http-nio-8080-exec-8] c.y.m.m.Z.updateByPrimaryKeySelective    : <==    Updates: 1
2019-11-22 16:16:13.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:13.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:13.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:14.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:14.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:14.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:15.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:15.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:15.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:16.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:16.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:16.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:17.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:17.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:17.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:18.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:18.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:18.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:19.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:19.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:19.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:20.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:20.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:20.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:21.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:21.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:21.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:22.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:22.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:22.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:23.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:23.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:23.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:24.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:24.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:24.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:25.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:25.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:25.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:26.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:26.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:26.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:27.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:27.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:27.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:28.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:28.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:28.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:29.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:29.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:29.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:30.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:30.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:30.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:31.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:31.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:31.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:32.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:32.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:32.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:33.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:33.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:33.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:34.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:34.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:34.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:35.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:35.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:35.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:36.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:36.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:36.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:37.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:37.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:37.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:38.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:38.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:38.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:38.208 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:16:38.209 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:16:38.211 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:16:38.211  INFO 16124 --- [http-nio-8080-exec-9] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/heart/monitor] [method:(GET) CommonResult com.yjjk.erp.controller.EcgController.getMonitors(Integer,Integer,Integer,Integer)]
2019-11-22 16:16:38.211  INFO 16124 --- [http-nio-8080-exec-9] com.yjjk.erp.aspect.WeblogAspect     : args: [62, null, null, null]
2019-11-22 16:16:38.212 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select manager_id, account, `password`, `name`, phone, post, department_id, sex, `role`, login_time, create_time, `status` from zs_manager_info where manager_id = ? and status = 0 
2019-11-22 16:16:38.212 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 62(Integer)
2019-11-22 16:16:38.217 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:16:38.218 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.getMonitorsInfoForEcg          : ==>  Preparing: SELECT a.bedId,a.`department_id`,a.departmentName,a.roomName, a.bedName, b.recordId, b.machineId, b.patientName,b.caseNum, b.machineNum, b.machineNo, b.endTime, b.startTime, b.`bed_id`,b.pattery FROM ( SELECT zbi.`bed_id` as bedId,zdi.`department_id`,zdi.name AS departmentName,zri.name AS roomName, zbi.name AS bedName FROM zs_bed_info zbi LEFT JOIN zs_room_info zri ON zbi.`room_id` = zri.room_id LEFT JOIN `zs_department_info` zdi ON zri.`department_id` = zdi.`department_id` WHERE zdi.department_id = ? ) a LEFT JOIN (SELECT zpr.`record_id` AS recordId, zpr.`machine_id` AS machineId, zpi.`name` AS patientName, zpi.`case_num` AS caseNum, zmi.machine_num AS machineNum, zmi.machine_no as machineNo, NOW() AS endTime, zpr.start_time AS startTime, zpr.`bed_id`, zmi.pattery FROM `zs_patient_record` zpr LEFT JOIN zs_patient_info zpi ON zpr.`patient_id` = zpi.`patient_id` LEFT JOIN `zs_machine_info` zmi ON zpr.`machine_id` = zmi.`machine_id` WHERE zpr.`usage_state` = 0 and zpr.record_type=1) b ON b.bed_id = a.bedId order by a.bedId 
2019-11-22 16:16:38.218 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.getMonitorsInfoForEcg          : ==> Parameters: 11(Integer)
2019-11-22 16:16:38.246 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.getMonitorsInfoForEcg          : <==      Total: 41
2019-11-22 16:16:38.246 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.getHealthInfo                  : ==>  Preparing: SELECT c.temperature_id,c.machine_id,c.heart_rate,c.respiratory_rate,c.timestamp FROM (SELECT a.temperature_id,a.machine_id,a.heart_rate,a.respiratory_rate,a.TIMESTAMP FROM (SELECT b.temperature_id,b.machine_id,b.heart_rate,b.respiratory_rate,b.TIMESTAMP FROM `zs_health_info` b ORDER BY create_time DESC /* 设备的检索数量上限为10000 */ LIMIT 10000) a GROUP BY a.machine_id) c LEFT JOIN `zs_machine_info` zmi ON zmi.`machine_id` = c.machine_id and zmi.department_id = ? 
2019-11-22 16:16:38.246 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.getHealthInfo                  : ==> Parameters: 11(Integer)
2019-11-22 16:16:38.252 DEBUG 16124 --- [http-nio-8080-exec-9] c.y.m.m.Z.getHealthInfo                  : <==      Total: 2
2019-11-22 16:16:39.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:39.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:39.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:40.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:40.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:40.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:41.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:41.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:41.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:42.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:42.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:42.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:43.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:43.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:43.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:44.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:44.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:44.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:45.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:45.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:45.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:46.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:46.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:46.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:47.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:47.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:47.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:48.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:48.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:48.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:49.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:49.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:49.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:50.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:50.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:50.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:51.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:51.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:51.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:52.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:52.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:52.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:53.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:53.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:53.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:54.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:54.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:54.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:55.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:55.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:55.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:56.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:56.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:56.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:57.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:57.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:57.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:58.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:58.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:58.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:16:59.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:16:59.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:16:59.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:00.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:00.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:00.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:01.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:01.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:01.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:02.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:02.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:02.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:03.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:03.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:03.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:04.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:04.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:04.007 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:05.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:05.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:05.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:06.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:06.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:06.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:07.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:07.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:07.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:08.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:08.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:08.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:09.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:09.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:09.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:10.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:10.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:10.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:11.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:11.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:11.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:12.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:12.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:12.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:13.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:13.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:13.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:14.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:14.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:14.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:15.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:15.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:15.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:16.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:16.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:16.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:17.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:17.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:17.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:18.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:18.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:18.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:19.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:19.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:19.008 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:20.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:20.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:20.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:21.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:21.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:21.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:22.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:22.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:22.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:23.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:23.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:23.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:24.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:24.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:24.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:25.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:25.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:25.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:26.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:26.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:26.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:27.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:27.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:27.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:28.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:28.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:28.006 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:29.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:29.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:29.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:30.002 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:30.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:30.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:31.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:31.004 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:31.005 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:32.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==>  Preparing: SELECT temperature_id, machine_id, create_time, `timestamp` , ecg FROM `zs_ecg_info` WHERE machine_id = ? AND UNIX_TIMESTAMP()*1000 <= TIMESTAMP+1000*5 ORDER BY temperature_id DESC LIMIT 0,1; 
2019-11-22 16:17:32.001 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : ==> Parameters: 101(Integer)
2019-11-22 16:17:32.003 DEBUG 16124 --- [scheduling-1] c.y.m.mapper.ZsEcgInfoMapper.getNewEcg   : <==      Total: 1
2019-11-22 16:17:32.954  INFO 16124 --- [http-nio-8080-exec-2] c.y.monitor.websocket.WebSocketServer    : 有一连接关闭！当前在线人数为0
2019-11-22 16:17:38.366 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:17:38.366 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:17:38.368 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:17:38.368  INFO 16124 --- [http-nio-8080-exec-3] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/heart/monitor] [method:(GET) CommonResult com.yjjk.erp.controller.EcgController.getMonitors(Integer,Integer,Integer,Integer)]
2019-11-22 16:17:38.368  INFO 16124 --- [http-nio-8080-exec-3] com.yjjk.erp.aspect.WeblogAspect     : args: [62, null, null, null]
2019-11-22 16:17:38.368 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select manager_id, account, `password`, `name`, phone, post, department_id, sex, `role`, login_time, create_time, `status` from zs_manager_info where manager_id = ? and status = 0 
2019-11-22 16:17:38.368 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 62(Integer)
2019-11-22 16:17:38.370 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:17:38.371 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.getMonitorsInfoForEcg          : ==>  Preparing: SELECT a.bedId,a.`department_id`,a.departmentName,a.roomName, a.bedName, b.recordId, b.machineId, b.patientName,b.caseNum, b.machineNum, b.machineNo, b.endTime, b.startTime, b.`bed_id`,b.pattery FROM ( SELECT zbi.`bed_id` as bedId,zdi.`department_id`,zdi.name AS departmentName,zri.name AS roomName, zbi.name AS bedName FROM zs_bed_info zbi LEFT JOIN zs_room_info zri ON zbi.`room_id` = zri.room_id LEFT JOIN `zs_department_info` zdi ON zri.`department_id` = zdi.`department_id` WHERE zdi.department_id = ? ) a LEFT JOIN (SELECT zpr.`record_id` AS recordId, zpr.`machine_id` AS machineId, zpi.`name` AS patientName, zpi.`case_num` AS caseNum, zmi.machine_num AS machineNum, zmi.machine_no as machineNo, NOW() AS endTime, zpr.start_time AS startTime, zpr.`bed_id`, zmi.pattery FROM `zs_patient_record` zpr LEFT JOIN zs_patient_info zpi ON zpr.`patient_id` = zpi.`patient_id` LEFT JOIN `zs_machine_info` zmi ON zpr.`machine_id` = zmi.`machine_id` WHERE zpr.`usage_state` = 0 and zpr.record_type=1) b ON b.bed_id = a.bedId order by a.bedId 
2019-11-22 16:17:38.374 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.getMonitorsInfoForEcg          : ==> Parameters: 11(Integer)
2019-11-22 16:17:38.400 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.getMonitorsInfoForEcg          : <==      Total: 41
2019-11-22 16:17:38.404 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.getHealthInfo                  : ==>  Preparing: SELECT c.temperature_id,c.machine_id,c.heart_rate,c.respiratory_rate,c.timestamp FROM (SELECT a.temperature_id,a.machine_id,a.heart_rate,a.respiratory_rate,a.TIMESTAMP FROM (SELECT b.temperature_id,b.machine_id,b.heart_rate,b.respiratory_rate,b.TIMESTAMP FROM `zs_health_info` b ORDER BY create_time DESC /* 设备的检索数量上限为10000 */ LIMIT 10000) a GROUP BY a.machine_id) c LEFT JOIN `zs_machine_info` zmi ON zmi.`machine_id` = c.machine_id and zmi.department_id = ? 
2019-11-22 16:17:38.404 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.getHealthInfo                  : ==> Parameters: 11(Integer)
2019-11-22 16:17:38.410 DEBUG 16124 --- [http-nio-8080-exec-3] c.y.m.m.Z.getHealthInfo                  : <==      Total: 2
2019-11-22 16:18:38.342 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select token, ip, manager_id, login_out, `status` from zs_login_state where token = ? 
2019-11-22 16:18:38.343 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 75B8EB1B78337F25(String)
2019-11-22 16:18:38.345 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:18:38.346  INFO 16124 --- [http-nio-8080-exec-4] com.yjjk.erp.aspect.WeblogAspect     : [ip:192.168.31.243] [url:/yjjk/heart/monitor] [method:(GET) CommonResult com.yjjk.erp.controller.EcgController.getMonitors(Integer,Integer,Integer,Integer)]
2019-11-22 16:18:38.346  INFO 16124 --- [http-nio-8080-exec-4] com.yjjk.erp.aspect.WeblogAspect     : args: [62, null, null, null]
2019-11-22 16:18:38.346 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByPrimaryKey             : ==>  Preparing: select manager_id, account, `password`, `name`, phone, post, department_id, sex, `role`, login_time, create_time, `status` from zs_manager_info where manager_id = ? and status = 0 
2019-11-22 16:18:38.347 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByPrimaryKey             : ==> Parameters: 62(Integer)
2019-11-22 16:18:38.348 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.selectByPrimaryKey             : <==      Total: 1
2019-11-22 16:18:38.349 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.getMonitorsInfoForEcg          : ==>  Preparing: SELECT a.bedId,a.`department_id`,a.departmentName,a.roomName, a.bedName, b.recordId, b.machineId, b.patientName,b.caseNum, b.machineNum, b.machineNo, b.endTime, b.startTime, b.`bed_id`,b.pattery FROM ( SELECT zbi.`bed_id` as bedId,zdi.`department_id`,zdi.name AS departmentName,zri.name AS roomName, zbi.name AS bedName FROM zs_bed_info zbi LEFT JOIN zs_room_info zri ON zbi.`room_id` = zri.room_id LEFT JOIN `zs_department_info` zdi ON zri.`department_id` = zdi.`department_id` WHERE zdi.department_id = ? ) a LEFT JOIN (SELECT zpr.`record_id` AS recordId, zpr.`machine_id` AS machineId, zpi.`name` AS patientName, zpi.`case_num` AS caseNum, zmi.machine_num AS machineNum, zmi.machine_no as machineNo, NOW() AS endTime, zpr.start_time AS startTime, zpr.`bed_id`, zmi.pattery FROM `zs_patient_record` zpr LEFT JOIN zs_patient_info zpi ON zpr.`patient_id` = zpi.`patient_id` LEFT JOIN `zs_machine_info` zmi ON zpr.`machine_id` = zmi.`machine_id` WHERE zpr.`usage_state` = 0 and zpr.record_type=1) b ON b.bed_id = a.bedId order by a.bedId 
2019-11-22 16:18:38.349 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.getMonitorsInfoForEcg          : ==> Parameters: 11(Integer)
2019-11-22 16:18:38.376 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.getMonitorsInfoForEcg          : <==      Total: 41
2019-11-22 16:18:38.377 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.getHealthInfo                  : ==>  Preparing: SELECT c.temperature_id,c.machine_id,c.heart_rate,c.respiratory_rate,c.timestamp FROM (SELECT a.temperature_id,a.machine_id,a.heart_rate,a.respiratory_rate,a.TIMESTAMP FROM (SELECT b.temperature_id,b.machine_id,b.heart_rate,b.respiratory_rate,b.TIMESTAMP FROM `zs_health_info` b ORDER BY create_time DESC /* 设备的检索数量上限为10000 */ LIMIT 10000) a GROUP BY a.machine_id) c LEFT JOIN `zs_machine_info` zmi ON zmi.`machine_id` = c.machine_id and zmi.department_id = ? 
2019-11-22 16:18:38.377 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.getHealthInfo                  : ==> Parameters: 11(Integer)
2019-11-22 16:18:38.383 DEBUG 16124 --- [http-nio-8080-exec-4] c.y.m.m.Z.getHealthInfo                  : <==      Total: 2
